import{P as X,_ as Z,B as ee,a as le,d as te,r as w,C as ae,I as oe,e as d,J as ne,c,o as p,f as e,h as a,K as D,k as o,l as h,D as re,n as u,N as S,i as de,A as i,j as A,m as v,s as ue,t as se}from"./index-BXRoTRPN.js";import{u as pe}from"./useTableColumnWidth-CTSg-whZ.js";import{u as ie}from"./useCopy-CSzW9GjL.js";function ce(_){return X({url:"/agent/userLevelChangeRecord",method:"post",data:_})}const k=_=>(ue("data-v-11905d9a"),_=_(),se(),_),me={class:"app-container"},_e={key:0},ye=k(()=>v("br",null,null,-1)),fe=k(()=>v("br",null,null,-1)),ge={key:1},be={key:0,class:"green"},we={key:1,class:"red"},he={key:0},ve=k(()=>v("br",null,null,-1)),ke={key:1},Ie={key:0},Ve=k(()=>v("br",null,null,-1)),Te={key:1},xe={key:0,style:{color:"#da0114"}},Ce={key:1,style:{color:"#63a103"}},De=ee({name:"User"}),Ne=Object.assign(De,{setup(_){const{tableRef:U,handleHeaderDragend:R,applyStoredColumnWidths:B}=pe("agent/levelChangeRecord-table"),{copyText:K}=ie();le();const{proxy:q}=te(),N=w([]),I=w(!0),P=w(!0),V=w(0),f=w([]),Y=ae({queryParams:{pageNo:1,pageSize:10,accountType:void 0,agentId:void 0,changeTimeEnd:void 0,changeTimeStart:void 0,generalAgentId:void 0,levelId:void 0,upgradeType:void 0,userId:void 0}}),{queryParams:n}=oe(Y);function T(){I.value=!0,ce(j(n.value,f.value)).then(g=>{I.value=!1,N.value=g.data.records,V.value=g.data.total,B()})}function j(g,t,b){let r=g;return r.params=typeof r.params=="object"&&r.params!==null&&!Array.isArray(r.params)?r.params:{},t=Array.isArray(t)?t:[],r.createTimeStart=t[0]&&t[0]+" 00:00:00",r.createTimeEnd=t[1]&&t[1]+" 23:59:59",r}function y(){n.value.pageNo=1,T()}function z(){f.value=[],q.resetForm("queryRef"),y()}return T(),(g,t)=>{const b=d("el-input"),r=d("el-form-item"),s=d("el-option"),x=d("el-select"),E=d("el-date-picker"),L=d("el-button"),H=d("el-form"),m=d("el-table-column"),M=d("CopyDocument"),C=d("el-icon"),Q=d("Bottom"),W=d("Top"),F=d("el-table"),J=d("pagination"),O=d("el-col"),$=d("el-row"),G=ne("loading");return p(),c("div",me,[e($,{gutter:20},{default:a(()=>[e(O,{xs:24},{default:a(()=>[D(e(H,{model:o(n),ref:"queryRef",inline:!0,"label-width":"68px"},{default:a(()=>[e(r,{label:"记录ID",prop:"id"},{default:a(()=>[e(b,{modelValue:o(n).id,"onUpdate:modelValue":t[0]||(t[0]=l=>o(n).id=l),modelModifiers:{number:!0},type:"number",placeholder:"请输入记录ID",clearable:"",style:{width:"160px"},onKeyup:h(y,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"会员查询",prop:"userId"},{default:a(()=>[e(b,{modelValue:o(n).userId,"onUpdate:modelValue":t[1]||(t[1]=l=>o(n).userId=l),type:"number",placeholder:"请输入会员id",clearable:"",style:{width:"150px"},onKeyup:h(y,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"账户类型",prop:"accountType"},{default:a(()=>[e(x,{modelValue:o(n).accountType,"onUpdate:modelValue":t[2]||(t[2]=l=>o(n).accountType=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(s,{key:"0",label:"全部",value:""}),e(s,{key:"1",label:"实盘账户",value:"0"}),e(s,{key:"2",label:"模拟账户",value:"1"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"会员等级",prop:"levelId"},{default:a(()=>[e(x,{modelValue:o(n).levelId,"onUpdate:modelValue":t[3]||(t[3]=l=>o(n).levelId=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(s,{key:"0",label:"全部",value:""}),e(s,{key:"1",label:"L1-普通会员",value:"1"}),e(s,{key:"2",label:"L2-银牌",value:"2"}),e(s,{key:"3",label:"L3-金牌",value:"3"}),e(s,{key:"4",label:"L4-钻石",value:"4"}),e(s,{key:"5",label:"L5-皇冠",value:"5"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"直属代理",prop:"agentId"},{default:a(()=>[e(b,{modelValue:o(n).agentId,"onUpdate:modelValue":t[4]||(t[4]=l=>o(n).agentId=l),type:"number",placeholder:"请输入直属代理id",clearable:"",style:{width:"150px"},onKeyup:h(y,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"团队总代",prop:"generalAgentId"},{default:a(()=>[e(b,{modelValue:o(n).generalAgentId,"onUpdate:modelValue":t[5]||(t[5]=l=>o(n).generalAgentId=l),type:"number",placeholder:"请输入团队总代会员id",clearable:"",style:{width:"170px"},onKeyup:h(y,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"变更类型",prop:"changeType"},{default:a(()=>[e(x,{modelValue:o(n).changeType,"onUpdate:modelValue":t[6]||(t[6]=l=>o(n).changeType=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(s,{key:"0",label:"全部",value:""}),e(s,{key:"1",label:"降级",value:"-1"}),e(s,{key:"2",label:"升级",value:"1"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"变更时间",style:{width:"308px"}},{default:a(()=>[e(E,{modelValue:o(f),"onUpdate:modelValue":t[7]||(t[7]=l=>re(f)?f.value=l:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(L,{type:"primary",icon:"Search",onClick:y},{default:a(()=>[u("搜索")]),_:1}),e(L,{icon:"Refresh",onClick:z},{default:a(()=>[u("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[S,o(P)]]),D((p(),de(F,{border:"",data:o(N),onHeaderDragend:o(R),ref_key:"tableRef",ref:U},{default:a(()=>[e(m,{label:"记录ID",align:"center",key:"id",prop:"id",width:"90"}),e(m,{label:"用户信息",align:"center",width:"150","show-overflow-tooltip":!0},{default:a(l=>[l.row.userId?(p(),c("span",_e,[u(i(l.row.realName?l.row.realName:l.row.nickname)+" ",1),ye,u(" "+i(l.row.userId),1),e(C,{style:{cursor:"pointer","margin-left":"4px"},onClick:Le=>o(K)(l.row.userId)},{default:a(()=>[e(M)]),_:2},1032,["onClick"]),fe,u(" L"+i(l.row.levelId)+"-"+i(l.row.levelName),1)])):(p(),c("span",ge,"-"))]),_:1}),e(m,{label:"账户类型",align:"center",key:"accountType",prop:"accountType",width:"80","show-overflow-tooltip":!0},{default:a(l=>[l.row.accountType==0?(p(),c("span",be,"实盘")):(p(),c("span",we,"模拟"))]),_:1}),e(m,{label:"直属代理（ID）",align:"center","show-overflow-tooltip":!0},{default:a(l=>[l.row.agentId?(p(),c("span",he,[u(i(l.row.agentName),1),ve,u("（"+i(l.row.agentId)+"）",1)])):(p(),c("span",ke,"-"))]),_:1}),e(m,{label:"团队总代(ID)",align:"center"},{default:a(l=>[l.row.generalAgentId?(p(),c("span",Ie,[u(i(l.row.generalAgentName),1),Ve,u("（"+i(l.row.generalAgentId)+"）",1)])):(p(),c("span",Te,"-"))]),_:1}),e(m,{label:"变更类型",align:"center",key:"changeType",prop:"changeType","show-overflow-tooltip":!0},{default:a(l=>[l.row.changeType==-1?(p(),c("span",xe,[e(C,null,{default:a(()=>[e(Q)]),_:1}),u("降级")])):A("",!0),l.row.changeType==1?(p(),c("span",Ce,[e(C,null,{default:a(()=>[e(W)]),_:1}),u("升级")])):A("",!0)]),_:1}),e(m,{label:"变更前级别",align:"center","show-overflow-tooltip":!0},{default:a(l=>[u(" L"+i(l.row.beLevelVal)+"-"+i(l.row.beLevelName),1)]),_:1}),e(m,{label:"变更后级别",align:"center","show-overflow-tooltip":!0},{default:a(l=>[u(" L"+i(l.row.afLevelVal)+"-"+i(l.row.afLevelName),1)]),_:1}),e(m,{label:"变更时间",align:"center",key:"createTime",prop:"createTime","show-overflow-tooltip":!0})]),_:1},8,["data","onHeaderDragend"])),[[G,o(I)]]),D(e(J,{total:o(V),onPagination:T,page:o(n).pageNo,"onUpdate:page":t[8]||(t[8]=l=>o(n).pageNo=l),limit:o(n).pageSize,"onUpdate:limit":t[9]||(t[9]=l=>o(n).pageSize=l)},null,8,["total","page","limit"]),[[S,o(V)>0]])]),_:1})]),_:1})])}}}),Re=Z(Ne,[["__scopeId","data-v-11905d9a"]]);export{Re as default};
