import{c3 as e,_ as Te,r as p,e as a,c as P,o as n,f as s,m as L,h as o,k as t,D as G,L as Ie,M as Re,R as De,A as X,s as he,t as Le,B as Oe,d as Pe,C as Ae,I as be,J as Q,K as x,j as c,N as ye,l as ke,n as T,i as d,S as W,Q as we}from"./index-BXRoTRPN.js";import{l as J,d as xe,u as Ce,a as Se}from"./menu-c-y6wj6Y.js";import{u as Ue,C as je}from"./useTableColumnVisibility-CzsC5pRe.js";import{u as $e}from"./useTableColumnWidth-CTSg-whZ.js";let C=[];const qe=Object.assign({"../../assets/icons/svg/404.svg":()=>e(()=>import("./404-Dy3nURRX.js"),[]),"../../assets/icons/svg/bug.svg":()=>e(()=>import("./bug-10dePVta.js"),[]),"../../assets/icons/svg/build.svg":()=>e(()=>import("./build-2jMyI6eP.js"),[]),"../../assets/icons/svg/button.svg":()=>e(()=>import("./button-BlSCM_GH.js"),[]),"../../assets/icons/svg/cascader.svg":()=>e(()=>import("./cascader-CXIOcY1C.js"),[]),"../../assets/icons/svg/chart.svg":()=>e(()=>import("./chart-BsLMrzXU.js"),[]),"../../assets/icons/svg/checkbox.svg":()=>e(()=>import("./checkbox-Bpiun3bf.js"),[]),"../../assets/icons/svg/clipboard.svg":()=>e(()=>import("./clipboard-DaV3cn7f.js"),[]),"../../assets/icons/svg/code.svg":()=>e(()=>import("./code-DgJ8cT4a.js"),[]),"../../assets/icons/svg/color.svg":()=>e(()=>import("./color-y1Sshoou.js"),[]),"../../assets/icons/svg/component.svg":()=>e(()=>import("./component-Djp9s69L.js"),[]),"../../assets/icons/svg/dashboard.svg":()=>e(()=>import("./dashboard-Dy7qt_a2.js"),[]),"../../assets/icons/svg/date-range.svg":()=>e(()=>import("./date-range-B8MgYLb1.js"),[]),"../../assets/icons/svg/date.svg":()=>e(()=>import("./date-B1FSITvi.js"),[]),"../../assets/icons/svg/dict.svg":()=>e(()=>import("./dict-Bi_GqSXR.js"),[]),"../../assets/icons/svg/documentation.svg":()=>e(()=>import("./documentation-uH9BvL5U.js"),[]),"../../assets/icons/svg/download.svg":()=>e(()=>import("./download-DeIzgQWH.js"),[]),"../../assets/icons/svg/drag.svg":()=>e(()=>import("./drag-BG1_I1vT.js"),[]),"../../assets/icons/svg/druid.svg":()=>e(()=>import("./druid-BybW_S_B.js"),[]),"../../assets/icons/svg/edit.svg":()=>e(()=>import("./edit-D0DI9pAq.js"),[]),"../../assets/icons/svg/education.svg":()=>e(()=>import("./education-47KsSYIl.js"),[]),"../../assets/icons/svg/email.svg":()=>e(()=>import("./email-Dig28Vt2.js"),[]),"../../assets/icons/svg/example.svg":()=>e(()=>import("./example-CnLLAFb9.js"),[]),"../../assets/icons/svg/excel.svg":()=>e(()=>import("./excel-D3hj5F35.js"),[]),"../../assets/icons/svg/exit-fullscreen.svg":()=>e(()=>import("./exit-fullscreen-dXhGKlQm.js"),[]),"../../assets/icons/svg/eye-open.svg":()=>e(()=>import("./eye-open-BxlshWqB.js"),[]),"../../assets/icons/svg/eye.svg":()=>e(()=>import("./eye-DqRz4sMZ.js"),[]),"../../assets/icons/svg/form.svg":()=>e(()=>import("./form-BDTA_i-I.js"),[]),"../../assets/icons/svg/fullscreen.svg":()=>e(()=>import("./fullscreen-0JHt5yWX.js"),[]),"../../assets/icons/svg/github.svg":()=>e(()=>import("./github-AJ0WQBa2.js"),[]),"../../assets/icons/svg/guide.svg":()=>e(()=>import("./guide-DZWUPi2j.js"),[]),"../../assets/icons/svg/icon.svg":()=>e(()=>import("./icon-BtMv6Od8.js"),[]),"../../assets/icons/svg/input.svg":()=>e(()=>import("./input-BJoPMnBW.js"),[]),"../../assets/icons/svg/international.svg":()=>e(()=>import("./international-CmzG1OHg.js"),[]),"../../assets/icons/svg/job.svg":()=>e(()=>import("./job-BcmuINx7.js"),[]),"../../assets/icons/svg/language.svg":()=>e(()=>import("./language-CaW1LMEk.js"),[]),"../../assets/icons/svg/link.svg":()=>e(()=>import("./link-C93f4PgI.js"),[]),"../../assets/icons/svg/list.svg":()=>e(()=>import("./list-C7O8B4zW.js"),[]),"../../assets/icons/svg/lock.svg":()=>e(()=>import("./lock-Bexeb9hp.js"),[]),"../../assets/icons/svg/log.svg":()=>e(()=>import("./log-CF2F-nSs.js"),[]),"../../assets/icons/svg/logininfor.svg":()=>e(()=>import("./logininfor-Bm9ZYYR7.js"),[]),"../../assets/icons/svg/message.svg":()=>e(()=>import("./message-UkR-VIBB.js"),[]),"../../assets/icons/svg/money.svg":()=>e(()=>import("./money-B1qqPuhn.js"),[]),"../../assets/icons/svg/monitor.svg":()=>e(()=>import("./monitor-gwnnVq4l.js"),[]),"../../assets/icons/svg/nested.svg":()=>e(()=>import("./nested-B4d5u3hW.js"),[]),"../../assets/icons/svg/number.svg":()=>e(()=>import("./number-D4hB_nHC.js"),[]),"../../assets/icons/svg/online.svg":()=>e(()=>import("./online-C2ZP8pdY.js"),[]),"../../assets/icons/svg/password.svg":()=>e(()=>import("./password-DfGvqQpB.js"),[]),"../../assets/icons/svg/pdf.svg":()=>e(()=>import("./pdf-CD9mOGjJ.js"),[]),"../../assets/icons/svg/people.svg":()=>e(()=>import("./people-CdGMHN63.js"),[]),"../../assets/icons/svg/peoples.svg":()=>e(()=>import("./peoples-BRYsIqmI.js"),[]),"../../assets/icons/svg/phone.svg":()=>e(()=>import("./phone-BpAUIz0g.js"),[]),"../../assets/icons/svg/post.svg":()=>e(()=>import("./post-DrLDyPY9.js"),[]),"../../assets/icons/svg/qq.svg":()=>e(()=>import("./qq-D8j4O83Y.js"),[]),"../../assets/icons/svg/question.svg":()=>e(()=>import("./question-CvYWQbyW.js"),[]),"../../assets/icons/svg/radio.svg":()=>e(()=>import("./radio-B0t9wPBQ.js"),[]),"../../assets/icons/svg/rate.svg":()=>e(()=>import("./rate-CgnHQvKS.js"),[]),"../../assets/icons/svg/redis-list.svg":()=>e(()=>import("./redis-list-BtKGPnqO.js"),[]),"../../assets/icons/svg/redis.svg":()=>e(()=>import("./redis-D4ECyT6a.js"),[]),"../../assets/icons/svg/row.svg":()=>e(()=>import("./row-CRXKIHjm.js"),[]),"../../assets/icons/svg/search.svg":()=>e(()=>import("./search-CUfclCsR.js"),[]),"../../assets/icons/svg/select.svg":()=>e(()=>import("./select-DhuHHMxz.js"),[]),"../../assets/icons/svg/server.svg":()=>e(()=>import("./server-unS7EyF7.js"),[]),"../../assets/icons/svg/shopping.svg":()=>e(()=>import("./shopping-CU1IRvxM.js"),[]),"../../assets/icons/svg/size.svg":()=>e(()=>import("./size-Cj9fB5Rp.js"),[]),"../../assets/icons/svg/skill.svg":()=>e(()=>import("./skill-B8f_I4m_.js"),[]),"../../assets/icons/svg/slider.svg":()=>e(()=>import("./slider-BGfehM6X.js"),[]),"../../assets/icons/svg/star.svg":()=>e(()=>import("./star-kST8a72V.js"),[]),"../../assets/icons/svg/swagger.svg":()=>e(()=>import("./swagger-BHGXZ2Jt.js"),[]),"../../assets/icons/svg/switch.svg":()=>e(()=>import("./switch-CvaargRJ.js"),[]),"../../assets/icons/svg/system.svg":()=>e(()=>import("./system-DcNSH_Fq.js"),[]),"../../assets/icons/svg/tab.svg":()=>e(()=>import("./tab-nA3f0aBt.js"),[]),"../../assets/icons/svg/table.svg":()=>e(()=>import("./table-5PRh60AQ.js"),[]),"../../assets/icons/svg/textarea.svg":()=>e(()=>import("./textarea-CJWXlgbJ.js"),[]),"../../assets/icons/svg/theme.svg":()=>e(()=>import("./theme-CyGq941x.js"),[]),"../../assets/icons/svg/time-range.svg":()=>e(()=>import("./time-range-D3dxgtLj.js"),[]),"../../assets/icons/svg/time.svg":()=>e(()=>import("./time-BVERp0sU.js"),[]),"../../assets/icons/svg/tool.svg":()=>e(()=>import("./tool-D8kXk1l-.js"),[]),"../../assets/icons/svg/tree-table.svg":()=>e(()=>import("./tree-table-CnOS99I9.js"),[]),"../../assets/icons/svg/tree.svg":()=>e(()=>import("./tree-BCtS3oPD.js"),[]),"../../assets/icons/svg/upload.svg":()=>e(()=>import("./upload-BueI-Il1.js"),[]),"../../assets/icons/svg/user.svg":()=>e(()=>import("./user-DqMuW5cU.js"),[]),"../../assets/icons/svg/validCode.svg":()=>e(()=>import("./validCode-COB1iLxa.js"),[]),"../../assets/icons/svg/wechat.svg":()=>e(()=>import("./wechat-lmQOcPZu.js"),[]),"../../assets/icons/svg/zip.svg":()=>e(()=>import("./zip-DIOSZc69.js"),[])});for(const I in qe){const A=I.split("assets/icons/svg/")[1].split(".svg")[0];C.push(A)}const Me=I=>(he("data-v-d0a2873b"),I=I(),Le(),I),Ne={class:"icon-body"},Be=Me(()=>L("i",{class:"el-icon-search el-input__icon"},null,-1)),ze={class:"icon-list"},Fe={class:"list-container"},He=["onClick"],Ke={__name:"index",props:{activeIcon:{type:String}},emits:["selected"],setup(I,{expose:A,emit:$}){const R=p(""),u=p(C),q=$;function m(){u.value=C,R.value&&(u.value=C.filter(D=>D.indexOf(R.value)!==-1))}function S(D){q("selected",D),document.body.click()}function g(){R.value="",u.value=C}return A({reset:g}),(D,U)=>{const b=a("el-input"),y=a("svg-icon");return n(),P("div",Ne,[s(b,{modelValue:t(R),"onUpdate:modelValue":U[0]||(U[0]=E=>G(R)?R.value=E:null),class:"icon-search",clearable:"",placeholder:"请输入图标名称",onClear:m,onInput:m},{suffix:o(()=>[Be]),_:1},8,["modelValue"]),L("div",ze,[L("div",Fe,[(n(!0),P(Ie,null,Re(t(u),(E,k)=>(n(),P("div",{class:"icon-item-wrapper",key:k,onClick:M=>S(E)},[L("div",{class:De(["icon-item",{active:I.activeIcon===E}])},[s(y,{"icon-class":E,"class-name":"icon",style:{height:"25px",width:"16px"}},null,8,["icon-class"]),L("span",null,X(E),1)],2)],8,He))),128))])])])}}},Qe=Te(Ke,[["__scopeId","data-v-d0a2873b"]]),We={class:"app-container"},Je={key:0,class:"green"},Ge={key:1,class:"red"},Xe={class:"dialog-footer"},Ye=Oe({name:"Menu"}),os=Object.assign(Ye,{setup(I){const{tableRef:A,handleHeaderDragend:$,applyStoredColumnWidths:R}=$e("menu-table"),u=Ue("menu-table",["title","icon","path","ajax","routing","menuType","sort","createTime","creattor"]),q=[{key:"title",label:"标题",prop:"title"},{key:"icon",label:"图标",prop:"icon"},{key:"path",label:"前端URL",prop:"path"},{key:"ajax",label:"后端接口地址",prop:"ajax"},{key:"routing",label:"前段代码路径",prop:"routing"},{key:"menuType",label:"类型",prop:"menuType"},{key:"sort",label:"排序",prop:"sort"},{key:"createTime",label:"创建时间",prop:"createTime"},{key:"creattor",label:"创建人",prop:"creattor"}];u.initializeColumns(q);const{proxy:m}=Pe(),S=p([]),g=p(!1),D=p(!0),U=p(!0),b=p(""),y=p([]),E=p(!1),k=p(!0),M=p(null),Y=Ae({form:{},queryParams:{menuName:void 0,visible:void 0},rules:{menuType:[{required:!0,message:"类型不能为空",trigger:"change"}],title:[{required:!0,message:"标题不能为空",trigger:"blur"}],path:[{required:!0,message:"前端URl不能为空",trigger:"blur"}]}}),{queryParams:j,form:i,rules:Z}=be(Y);function w(){D.value=!0,J(j.value).then(r=>{S.value=r.data,D.value=!1,R()})}function ee(){y.value=[],J().then(r=>{const _={id:0,title:"主类目",children:[]};_.children=r.data,y.value.push(_)})}function se(){g.value=!1,i.value={}}function B(){i.value={},m.resetForm("menuRef")}function te(){M.value.reset()}function oe(r){i.value.icon=r}function z(){w()}function ie(){m.resetForm("queryRef")}function le(r){B(),r!=null&&r.menuId?i.value.parentId=r.menuId:i.value.parentId=0,g.value=!0,b.value="添加菜单"}function _e(){k.value=!1,E.value=!E.value,we(()=>{k.value=!0})}async function ne(r){B(),i.value=Object.assign({},r),g.value=!0,b.value="修改菜单"}function ae(){m.$refs.menuRef.validate(r=>{r&&(i.value.id!=null?Ce(i.value).then(_=>{m.$modal.msgSuccess("修改成功"),g.value=!1,w()}):Se(i.value).then(_=>{m.$modal.msgSuccess("新增成功"),g.value=!1,w()}))})}function re(r){m.$modal.confirm("是否确定要删除该菜单？此操作不可恢复").then(function(){return xe({menuId:r.id})}).then(()=>{w(),m.$modal.msgSuccess("删除成功")}).catch(()=>{})}return w(),ee(),(r,_)=>{const O=a("el-input"),f=a("el-form-item"),h=a("el-button"),F=a("el-form"),v=a("el-col"),H=a("el-row"),V=a("el-table-column"),ue=a("el-table"),de=a("el-tree-select"),K=a("el-radio"),ce=a("el-radio-group"),ve=a("search"),pe=a("el-icon"),me=a("el-popover"),ge=a("el-input-number"),Ee=a("el-dialog"),N=Q("hasPermi"),fe=Q("loading");return n(),P("div",We,[x(s(F,{model:t(j),ref:"queryRef",inline:!0},{default:o(()=>[s(f,{label:"标题",prop:"title"},{default:o(()=>[s(O,{modelValue:t(j).title,"onUpdate:modelValue":_[0]||(_[0]=l=>t(j).title=l),placeholder:"请输入标题",clearable:"",style:{width:"200px"},onKeyup:ke(z,["enter"])},null,8,["modelValue"])]),_:1}),s(f,null,{default:o(()=>[s(h,{type:"primary",icon:"Search",onClick:z},{default:o(()=>[T("搜索")]),_:1}),s(h,{icon:"Refresh",onClick:ie},{default:o(()=>[T("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[ye,t(U)]]),s(H,{gutter:10,class:"mb8"},{default:o(()=>[s(v,{span:1.5},{default:o(()=>[s(je,{"column-visibility":t(u)},null,8,["column-visibility"])]),_:1}),x((n(),d(v,{span:1.5},{default:o(()=>[s(h,{type:"primary",onClick:le},{default:o(()=>[T("新增")]),_:1})]),_:1})),[[N,["addMenu"]]]),s(v,{span:1.5},{default:o(()=>[s(h,{type:"info",plain:"",icon:"Sort",onClick:_e},{default:o(()=>[T("展开/折叠")]),_:1})]),_:1})]),_:1}),t(k)?x((n(),d(ue,{key:0,data:t(S),border:"","row-key":"id","default-expand-all":t(E),"tree-props":{children:"children",hasChildren:"hasChildren"},onHeaderDragend:t($),ref_key:"tableRef",ref:A},{default:o(()=>[t(u).isColumnVisible("title")?(n(),d(V,{key:0,prop:"title",label:"标题","show-overflow-tooltip":!0,width:"250"})):c("",!0),t(u).isColumnVisible("icon")?(n(),d(V,{key:1,prop:"icon",label:"图标",align:"center",width:"100"},{default:o(l=>[s(t(W),{"icon-class":l.row.icon},null,8,["icon-class"])]),_:1})):c("",!0),t(u).isColumnVisible("path")?(n(),d(V,{key:2,prop:"path",align:"center",label:"前端URL"})):c("",!0),t(u).isColumnVisible("ajax")?(n(),d(V,{key:3,prop:"ajax",align:"center",label:"后端接口地址","show-overflow-tooltip":!0})):c("",!0),t(u).isColumnVisible("routing")?(n(),d(V,{key:4,prop:"routing",align:"center",label:"前段代码路径","show-overflow-tooltip":!0})):c("",!0),t(u).isColumnVisible("menuType")?(n(),d(V,{key:5,prop:"menuType",align:"center",label:"类型",width:"160"},{default:o(l=>[l.row.menuType==0?(n(),P("span",Je,"菜单目录")):c("",!0),l.row.menuType==1?(n(),P("span",Ge,"按钮接口")):c("",!0)]),_:1})):c("",!0),t(u).isColumnVisible("sort")?(n(),d(V,{key:6,prop:"sort",label:"排序",align:"center",width:"160","show-overflow-tooltip":!0})):c("",!0),t(u).isColumnVisible("createTime")?(n(),d(V,{key:7,label:"创建时间",align:"center",width:"160",prop:"createTime"},{default:o(l=>[L("span",null,X(r.parseTime(l.row.createTime)),1)]),_:1})):c("",!0),t(u).isColumnVisible("creattor")?(n(),d(V,{key:8,prop:"creattor",align:"center",label:"创建人",width:"160","show-overflow-tooltip":!0})):c("",!0),s(V,{label:"操作",align:"center",fixed:"right",width:"210","class-name":"small-padding fixed-width"},{default:o(l=>[x((n(),d(h,{type:"primary",onClick:Ve=>ne(l.row)},{default:o(()=>[T("编辑")]),_:2},1032,["onClick"])),[[N,["editMenu"]]]),x((n(),d(h,{type:"danger",onClick:Ve=>re(l.row)},{default:o(()=>[T("删除")]),_:2},1032,["onClick"])),[[N,["deleteMenu"]]])]),_:1})]),_:1},8,["data","default-expand-all","onHeaderDragend"])),[[fe,t(D)]]):c("",!0),s(Ee,{title:t(b),modelValue:t(g),"onUpdate:modelValue":_[9]||(_[9]=l=>G(g)?g.value=l:null),width:"680px","append-to-body":""},{footer:o(()=>[L("div",Xe,[s(h,{type:"primary",onClick:ae},{default:o(()=>[T("确 定")]),_:1}),s(h,{onClick:se},{default:o(()=>[T("取 消")]),_:1})])]),default:o(()=>[s(F,{ref:"menuRef",model:t(i),rules:t(Z),"label-width":"100px"},{default:o(()=>[s(H,null,{default:o(()=>[s(v,{span:24},{default:o(()=>[s(f,{label:"上级菜单"},{default:o(()=>[s(de,{modelValue:t(i).parentId,"onUpdate:modelValue":_[1]||(_[1]=l=>t(i).parentId=l),data:t(y),props:{value:"id",label:"title",children:"children"},"value-key":"menuId",placeholder:"选择上级菜单","check-strictly":""},null,8,["modelValue","data"])]),_:1})]),_:1}),s(v,{span:24},{default:o(()=>[s(f,{label:"菜单类型",prop:"menuType"},{default:o(()=>[s(ce,{modelValue:t(i).menuType,"onUpdate:modelValue":_[2]||(_[2]=l=>t(i).menuType=l)},{default:o(()=>[s(K,{value:0},{default:o(()=>[T("菜单目录")]),_:1}),s(K,{value:1},{default:o(()=>[T("按钮接口")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(i).menuType==0?(n(),d(v,{key:0,span:12},{default:o(()=>[s(f,{label:"菜单图标",prop:"icon"},{default:o(()=>[s(me,{placement:"bottom-start",width:540,trigger:"click"},{reference:o(()=>[s(O,{modelValue:t(i).icon,"onUpdate:modelValue":_[3]||(_[3]=l=>t(i).icon=l),placeholder:"点击选择图标",onBlur:te,readonly:""},{prefix:o(()=>[t(i).icon?(n(),d(t(W),{key:0,"icon-class":t(i).icon,class:"el-input__icon",style:{height:"32px",width:"16px"}},null,8,["icon-class"])):(n(),d(pe,{key:1,style:{height:"32px",width:"16px"}},{default:o(()=>[s(ve)]),_:1}))]),_:1},8,["modelValue"])]),default:o(()=>[s(t(Qe),{ref_key:"iconSelectRef",ref:M,onSelected:oe,"active-icon":t(i).icon},null,8,["active-icon"])]),_:1})]),_:1})]),_:1})):c("",!0),s(v,{span:24},{default:o(()=>[s(f,{label:"标题",prop:"title"},{default:o(()=>[s(O,{modelValue:t(i).title,"onUpdate:modelValue":_[4]||(_[4]=l=>t(i).title=l),placeholder:"请输入中文标题"},null,8,["modelValue"])]),_:1})]),_:1}),s(v,{span:24},{default:o(()=>[s(f,{label:"前端URl",prop:"path"},{default:o(()=>[s(O,{modelValue:t(i).path,"onUpdate:modelValue":_[5]||(_[5]=l=>t(i).path=l),placeholder:"请输入前端URl"},null,8,["modelValue"])]),_:1})]),_:1}),s(v,{span:24},{default:o(()=>[s(f,{label:"后端接口地址",prop:"ajax"},{default:o(()=>[s(O,{modelValue:t(i).ajax,"onUpdate:modelValue":_[6]||(_[6]=l=>t(i).ajax=l),placeholder:"请输入后端接口地址"},null,8,["modelValue"])]),_:1})]),_:1}),s(v,{span:24},{default:o(()=>[s(f,{label:"前端代码路径",prop:"routing"},{default:o(()=>[s(O,{modelValue:t(i).routing,"onUpdate:modelValue":_[7]||(_[7]=l=>t(i).routing=l),placeholder:"请输入前段代码路径"},null,8,["modelValue"])]),_:1})]),_:1}),s(v,{span:24},{default:o(()=>[s(f,{label:"排序",prop:"sort"},{default:o(()=>[s(ge,{modelValue:t(i).sort,"onUpdate:modelValue":_[8]||(_[8]=l=>t(i).sort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}});export{os as default};
