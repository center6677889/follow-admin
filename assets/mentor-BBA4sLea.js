import{P as Z,_ as ee,B as te,a as oe,d as ae,r as d,C as le,I as ne,e as n,J as N,c as re,o as v,f as e,h as o,K as h,k as a,l as se,D as ie,n as k,i as P,m as C,A as T,N as ue,s as ce,t as pe}from"./index-BXRoTRPN.js";import{u as de}from"./useCopy-CSzW9GjL.js";import{u as me}from"./useTableColumnWidth-CTSg-whZ.js";function _e(c){return Z({url:"/dataReport/tutorDataStatistics",method:"post",data:c})}const fe=c=>(ce("data-v-aa1e6367"),c=c(),pe(),c),ye={class:"app-container"},ge=fe(()=>C("br",null,null,-1)),we=te({name:"User"}),be=Object.assign(we,{setup(c){var D,x,I,R;const{copyText:U}=de(),{tableRef:V,handleHeaderDragend:q,applyStoredColumnWidths:F}=me("data/mentor-table"),m=oe(),{proxy:A}=ae(),S=d([]),_=d(!0),f=d(0),p=d([]);function B(u){m.push({path:"/follow/record",query:{tutorId:u.id}})}const L=le({form:{},queryParams:{pageNo:1,pageSize:10,tutorId:void 0,accountType:(x=(D=m.currentRoute.value)==null?void 0:D.query)!=null&&x.accountType?Number((R=(I=m.currentRoute.value)==null?void 0:I.query)==null?void 0:R.accountType):void 0,agentId:void 0}}),{queryParams:i,form:ve}=ne(L);function y(){_.value=!0,_e(Y(i.value,p.value)).then(u=>{_.value=!1,S.value=u.data.records,f.value=u.data.total,F()})}function Y(u,t){let r=u;return r.params=typeof r.params=="object"&&r.params!==null&&!Array.isArray(r.params)?r.params:{},t=Array.isArray(t)?t:[],r.startTime=t[0]&&t[0]+" 00:00:00",r.endTime=t[1]&&t[1]+" 23:59:59",r}function g(){i.value.pageNo=1,y()}function z(){p.value=[],A.resetForm("queryRef"),g()}return y(),(u,t)=>{const r=n("el-input"),w=n("el-form-item"),H=n("el-date-picker"),b=n("el-button"),K=n("el-form"),j=n("CopyDocument"),M=n("el-icon"),s=n("el-table-column"),Q=n("el-tooltip"),W=n("el-table"),$=n("pagination"),E=n("el-col"),J=n("el-row"),O=N("hasPermi"),G=N("loading");return v(),re("div",ye,[e(J,{gutter:20},{default:o(()=>[e(E,{xs:24},{default:o(()=>[e(K,{model:a(i),ref:"queryRef",inline:!0},{default:o(()=>[e(w,{label:"导师查询",prop:"tutor"},{default:o(()=>[e(r,{modelValue:a(i).tutor,"onUpdate:modelValue":t[0]||(t[0]=l=>a(i).tutor=l),placeholder:"请输入导师ID或导师名称",clearable:"",style:{width:"150px"},onKeyup:se(g,["enter"])},null,8,["modelValue"])]),_:1}),e(w,{label:"查询时间",style:{width:"308px"}},{default:o(()=>[e(H,{modelValue:a(p),"onUpdate:modelValue":t[1]||(t[1]=l=>ie(p)?p.value=l:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(w,null,{default:o(()=>[e(b,{type:"primary",icon:"Search",onClick:g},{default:o(()=>[k("查询")]),_:1}),e(b,{icon:"Refresh",onClick:z},{default:o(()=>[k("重置")]),_:1})]),_:1})]),_:1},8,["model"]),h((v(),P(W,{border:"",data:a(S),onHeaderDragend:a(q),ref_key:"tableRef",ref:V},{default:o(()=>[e(s,{label:"导师信息",align:"center",width:"120","show-overflow-tooltip":!0},{default:o(l=>[C("span",null,T(l.row.id),1),e(M,{style:{cursor:"pointer","margin-left":"4px"},onClick:X=>a(U)(l.row.id)},{default:o(()=>[e(j)]),_:2},1032,["onClick"]),ge,C("span",null,T(l.row.tutorName),1)]),_:1}),e(s,{label:"当前跟投人数",align:"center",key:"currentFollowUsers",prop:"currentFollowUsers","show-overflow-tooltip":!0}),e(s,{label:"当前跟投资金",align:"center",key:"currentFollowSum",prop:"currentFollowSum","show-overflow-tooltip":!0}),e(s,{label:"累计跟投人数",align:"center",key:"totalFollowUsers",prop:"totalFollowUsers"}),e(s,{label:"累计投入跟投资金",align:"center",key:"totalInitialSum",prop:"totalInitialSum"}),e(s,{label:"累计退还跟投资金",align:"center",key:"totalReturnSum",prop:"totalReturnSum"}),e(s,{label:"导师抽成",align:"center",key:"totalTutorCommission",prop:"totalTutorCommission"}),e(s,{label:"平台抽成",align:"center",key:"totalPlatformCommission",prop:"totalPlatformCommission"}),e(s,{label:"系统盈亏",align:"center",key:"totalSysProfitLoss",prop:"totalSysProfitLoss"}),e(s,{fixed:"right",label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},{default:o(l=>[e(Q,{disabled:"true",content:"用户跟投记录",placement:"top"},{default:o(()=>[h((v(),P(b,{type:"primary",onClick:X=>B(l.row)},{default:o(()=>[k("用户跟投记录")]),_:2},1032,["onClick"])),[[O,["followRecord"]]])]),_:2},1024)]),_:1})]),_:1},8,["data","onHeaderDragend"])),[[G,a(_)]]),h(e($,{total:a(f),onPagination:y,page:a(i).pageNo,"onUpdate:page":t[2]||(t[2]=l=>a(i).pageNo=l),limit:a(i).pageSize,"onUpdate:limit":t[3]||(t[3]=l=>a(i).pageSize=l)},null,8,["total","page","limit"]),[[ue,a(f)>0]])]),_:1})]),_:1})])}}}),Se=ee(be,[["__scopeId","data-v-aa1e6367"]]);export{Se as default};
