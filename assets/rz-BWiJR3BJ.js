import{_ as me,B as he,a as ve,d as fe,r as d,C as y,G as be,H as X,I as ye,e as p,J as Z,c as g,o as u,f as l,h as i,K as S,k as t,l as we,D as T,n as v,N as ee,i as A,A as m,j as _,m as e,s as xe,t as ke}from"./index-BXRoTRPN.js";import{i as Se,j as Ae}from"./user-Dhl3jA1d.js";import{i as Ie}from"./index.full.common-CSg8mdfz.js";const n=I=>(xe("data-v-ce3c4585"),I=I(),ke(),I),Ce={class:"app-container"},qe={key:0,class:"red"},Ve={key:1,class:"gra"},Ne={key:2,class:"green"},Ee={style:{"overflow-x":"auto","overflow-y":"hidden"}},Te={style:{"border-collapse":"collapse",border:"1px solid #EEEEEE"}},ze={class:"list-tab"},Be=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"正面",-1)),De={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},Fe=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),$e=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"背面",-1)),Ue={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},Pe=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),Oe=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"手持证件",-1)),He={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},je=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),Le={class:"dialog-footer",style:{"text-align":"center"}},Re={class:"list-tab"},Ye=n(()=>e("td",{class:"title"},"用户ID",-1)),Ke={class:""},Me=n(()=>e("td",{class:"title"},"认证信息",-1)),Qe={class:""},Ge={key:0,class:"red"},Je={key:1,class:"gra"},We={key:2,class:"green"},Xe={key:3,class:"yellow"},Ze=n(()=>e("td",{class:"title"},"身份证号码",-1)),et={class:""},tt={class:"list-tab"},st=n(()=>e("td",{class:"title"},"注册IP",-1)),lt={class:""},at=n(()=>e("td",{class:"title"},"注册地址",-1)),ot={class:""},it=n(()=>e("td",{class:"title"},"注册时间",-1)),nt={class:""},rt={class:"list-tab"},dt=n(()=>e("td",{class:"title"},"真实姓名",-1)),ut={class:""},ct=n(()=>e("td",{class:"title"},null,-1)),pt=n(()=>e("td",{class:""},null,-1)),_t=n(()=>e("td",{class:"title"},null,-1)),gt=n(()=>e("td",{class:""},null,-1)),mt={class:"list-tab"},ht=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"身份证正面",-1)),vt={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},ft=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),bt=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"身份证背面",-1)),yt={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},wt=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),xt=n(()=>e("td",{class:"title",style:{height:"160px","line-height":"160px"}},"手持身份证",-1)),kt={class:"ub ub-ver ub-ac ub-pc",style:{height:"160px"}},St=n(()=>e("span",{style:{"margin-top":"10px"}},"点击查看",-1)),At={class:"dialog-footer",style:{"text-align":"center"}},It={class:"ub ub-h list-tab ub-ac"},Ct=n(()=>e("div",{class:"title"},"用户ID",-1)),qt={class:""},Vt=n(()=>e("div",{class:"title"},"开启状态",-1)),Nt={class:""},Et={key:0,class:"red"},Tt={key:1,class:"gra"},zt={key:2,class:"green"},Bt={key:3,class:"yellow"},Dt=n(()=>e("div",{class:"title"},"总金额",-1)),Ft={class:""},$t={class:"ub ub-h list-tab ub-ac"},Ut=n(()=>e("div",{class:"title"},"可用资金",-1)),Pt={class:""},Ot=n(()=>e("div",{class:"title"},"交易冻结资金",-1)),Ht={class:""},jt=n(()=>e("div",{class:"title"},"IPO资金",-1)),Lt={class:""},Rt={class:"dialog-footer",style:{"text-align":"center"}},Yt=he({name:"User"}),Kt=Object.assign(Yt,{setup(I){var j,L,R,Y,K,M,Q,G;new Ie.EluiChinaAreaDht.ChinaArea().chinaAreaflat;const C=ve(),{proxy:q}=fe(),O=d([]);d(!1),d(!1),d(!1);const z=d(!1),V=d(!1),B=d(!0),te=d(!0);d([]),d(!0),d(!0);const N=d(!1),D=d(0);d("");const x=d([]),se=d([]);d(void 0),d([]),d([]),d([]),y({open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+be()},url:"/prod-api/system/user/importData"}),y([{label:"实盘",value:0},{label:"模拟",value:1}]),y([{label:"可登录",value:!0},{label:"不可登录",value:!1}]),y([{label:"可交易",value:!0},{label:"不可交易",value:!1}]),y([{label:"顶级代理",value:0}]),y(X().listCountry),y(X().listBank);const le=y({form:{},queryParams:{pageNo:1,pageSize:10,id:void 0,accountType:(L=(j=C.currentRoute.value)==null?void 0:j.query)!=null&&L.accountType?Number((Y=(R=C.currentRoute.value)==null?void 0:R.query)==null?void 0:Y.accountType):void 0,agentId:void 0,descOrAsc:void 0,email:void 0,fundingStatus:void 0,invitationCode:(M=(K=C.currentRoute.value)==null?void 0:K.query)!=null&&M.invite?(G=(Q=C.currentRoute.value)==null?void 0:Q.query)==null?void 0:G.invite:void 0,loginEnable:void 0,orderBy:void 0,phone:void 0,realAuthStatus:void 0,realName:void 0,searchChildOfAgent:void 0,tradeEnable:void 0},tempInfo:{},bankform:{},bankrules:{bankCode:[{required:!0,message:"请选择银行",trigger:"change"}],cardNo:[{required:!0,message:"请输入银行卡号",trigger:"blur"}],branchBankAddress:[{required:!0,message:"请输入支行地址",trigger:"blur"}],realName:[{required:!0,message:"请输入账户姓名",trigger:"blur"}],province:[{required:!0,message:"请选择",trigger:"change"}]},rules:{accountType:[{required:!0,message:"请选择账号类型",trigger:"change"}],userName:[{required:!0,message:"用户名称不能为空",trigger:"blur"},{min:2,max:20,message:"用户名称长度必须介于 2 和 20 之间",trigger:"blur"}],nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],loginPwd:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"},{pattern:/^[^<>"'|\\]+$/,message:`不能包含非法字符：< > " ' \\ |`,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!0,pattern:/^\d+$/,message:"请输入正确的手机号码",trigger:"blur"}]}}),{queryParams:r,form:Mt,rules:Qt,tempInfo:a,bankrules:Gt,bankform:Jt}=ye(le);function k(){B.value=!0,Se(ae(r.value,x.value)).then(h=>{B.value=!1,O.value=h.data.records,D.value=h.data.total})}function ae(h,s,U){let c=h;return c.params=typeof c.params=="object"&&c.params!==null&&!Array.isArray(c.params)?c.params:{},s=Array.isArray(s)?s:[],c.requestTimeStart=s[0]&&s[0]+" 00:00:00",c.requestTimeEnd=s[1]&&s[1]+" 23:59:59",c.operateTimeStart=s[0]&&s[0]+" 00:00:00",c.operateTimeEnd=s[1]&&s[1]+" 23:59:59",c}function F(){r.value.pageNo=1,k()}function oe(){x.value=[],se.value=[],q.resetForm("queryRef"),r.value.id=void 0,r.value.accountType=void 0,r.value.agentId=void 0,r.value.descOrAsc=void 0,r.value.email=void 0,r.value.fundingStatus=void 0,r.value.invitationCode=void 0,r.value.loginEnable=void 0,r.value.orderBy=void 0,r.value.phone=void 0,r.value.realAuthStatus=void 0,r.value.realName=void 0,r.value.searchChildOfAgent=void 0,r.value.tradeEnable=void 0,F()}function H(h,s){q.$modal.confirm(s==2?"是否确定通过该用户融资审核？此操作不可恢复":"是否确定拒绝该用户融资审核？").then(function(){return $(s,h)}).then(()=>{k(),q.$modal.msgSuccess("操作成功")}).catch(()=>{})}function $(h,s){Ae({id:s.id,fundingStatus:h}).then(U=>{q.$modal.msgSuccess("操作成功"),V.value=!1,k()})}return k(),(h,s)=>{const U=p("el-input"),c=p("el-form-item"),ie=p("el-date-picker"),E=p("el-option"),ne=p("el-select"),f=p("el-button"),re=p("el-form"),b=p("el-table-column"),J=p("el-tooltip"),de=p("el-table"),ue=p("pagination"),ce=p("el-col"),pe=p("el-row"),w=p("el-image"),P=p("el-dialog"),W=Z("hasPermi"),_e=Z("loading");return u(),g("div",Ce,[l(pe,{gutter:20},{default:i(()=>[l(ce,{xs:24},{default:i(()=>[S(l(re,{model:t(r),ref:"queryRef",inline:!0,"label-width":"68px"},{default:i(()=>[l(c,{label:"会员查询",prop:"userId"},{default:i(()=>[l(U,{oninput:"if(value.length>6)value=value.slice(0,6)",modelValue:t(r).userId,"onUpdate:modelValue":s[0]||(s[0]=o=>t(r).userId=o),type:"number",placeholder:"请输入会员id",clearable:"",style:{width:"150px"},onKeyup:we(F,["enter"])},null,8,["modelValue"])]),_:1}),l(c,{label:"申请时间",style:{width:"308px"}},{default:i(()=>[l(ie,{modelValue:t(x),"onUpdate:modelValue":s[1]||(s[1]=o=>T(x)?x.value=o:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),l(c,{label:"审核状态",prop:"fundingStatus"},{default:i(()=>[l(ne,{modelValue:t(r).fundingStatus,"onUpdate:modelValue":s[2]||(s[2]=o=>t(r).fundingStatus=o),style:{width:"150px"},placeholder:"全部"},{default:i(()=>[l(E,{key:"0",label:"全部",value:""}),l(E,{key:"1",label:"审核中",value:"1"}),l(E,{key:"2",label:"已通过",value:"2"}),l(E,{key:"3",label:"不通过",value:"3"})]),_:1},8,["modelValue"])]),_:1}),l(c,null,{default:i(()=>[l(f,{type:"primary",icon:"Search",onClick:F},{default:i(()=>[v("搜索")]),_:1}),l(f,{icon:"Refresh",onClick:oe},{default:i(()=>[v("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[ee,t(te)]]),S((u(),A(de,{border:"",data:t(O)},{default:i(()=>[l(b,{label:"会员ID",align:"center",key:"userId",prop:"userId",width:"80","show-overflow-tooltip":!0}),l(b,{label:"总金额",align:"center"},{default:i(o=>[v(m(o.row.tradingFrozenAmt+o.row.availableAmt+o.row.ipoAmt),1)]),_:1}),l(b,{label:"可用金额",align:"center",key:"availableAmt",prop:"availableAmt","show-overflow-tooltip":!0}),l(b,{label:"交易冻结资金",align:"center",key:"tradingFrozenAmt",prop:"tradingFrozenAmt","show-overflow-tooltip":!0}),l(b,{label:"IPO在途资金",align:"center",key:"ipoAmt",prop:"ipoAmt"}),l(b,{label:"申请时间",align:"center",key:"requestTime",prop:"requestTime"}),l(b,{label:"操作人",align:"center",key:"operator",prop:"operator"}),l(b,{label:"状态",align:"center"},{default:i(o=>[o.row.fundingStatus==3?(u(),g("span",qe,"审核拒绝")):_("",!0),o.row.fundingStatus==1?(u(),g("span",Ve,"审核中")):_("",!0),o.row.fundingStatus==2?(u(),g("span",Ne,"审核通过")):_("",!0)]),_:1}),l(b,{fixed:"right",label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},{default:i(o=>[o.row.fundingStatus==1?(u(),A(J,{key:0,disabled:"true",content:"通过",placement:"top"},{default:i(()=>[S((u(),A(f,{type:"primary",onClick:ge=>H(o.row,2)},{default:i(()=>[v("通过")]),_:2},1032,["onClick"])),[[W,["updateFundingStatus"]]])]),_:2},1024)):_("",!0),o.row.fundingStatus==1?(u(),A(J,{key:1,disabled:"true",content:"拒绝",placement:"top"},{default:i(()=>[S((u(),A(f,{type:"danger",onClick:ge=>H(o.row,3)},{default:i(()=>[v("拒绝")]),_:2},1032,["onClick"])),[[W,["updateFundingStatus"]]])]),_:2},1024)):_("",!0)]),_:1})]),_:1},8,["data"])),[[_e,t(B)]]),S(l(ue,{total:t(D),onPagination:k,page:t(r).pageNo,"onUpdate:page":s[3]||(s[3]=o=>t(r).pageNo=o),limit:t(r).pageSize,"onUpdate:limit":s[4]||(s[4]=o=>t(r).pageSize=o)},null,8,["total","page","limit"]),[[ee,t(D)>0]])]),_:1})]),_:1}),l(P,{title:"证件类型："+(t(a).certificateType==0?"身份证":"护照"),width:"1240px",modelValue:t(N),"onUpdate:modelValue":s[6]||(s[6]=o=>T(N)?N.value=o:null),"append-to-body":""},{footer:i(()=>[e("div",Le,[l(f,{type:"primary",onClick:s[5]||(s[5]=o=>N.value=!1)},{default:i(()=>[v("确 定")]),_:1})])]),default:i(()=>[e("div",Ee,[e("table",Te,[e("tr",ze,[Be,e("td",De,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idFrontImg],src:t(a).idFrontImg,fit:"scale-down"},null,8,["preview-src-list","src"]),Fe]),$e,e("td",Ue,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idBackImg],src:t(a).idBackImg,fit:"scale-down"},null,8,["preview-src-list","src"]),Pe]),Oe,e("td",He,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idHandImg],src:t(a).idHandImg,fit:"scale-down"},null,8,["preview-src-list","src"]),je])])])])]),_:1},8,["title","modelValue"]),l(P,{title:"认证信息",modelValue:t(z),"onUpdate:modelValue":s[9]||(s[9]=o=>T(z)?z.value=o:null),"append-to-body":""},{footer:i(()=>[e("div",At,[l(f,{type:"primary",onClick:s[7]||(s[7]=o=>h.auosmting(2))},{default:i(()=>[v("通过")]),_:1}),l(f,{type:"danger",onClick:s[8]||(s[8]=o=>h.auosmting(3))},{default:i(()=>[v("拒绝")]),_:1})])]),default:i(()=>[e("table",null,[e("tr",Re,[Ye,e("td",Ke,m(t(a).id),1),Me,e("td",Qe,[t(a).realAuthStatus==0?(u(),g("span",Ge,"未实名")):_("",!0),t(a).realAuthStatus==1?(u(),g("span",Je,"审核中")):_("",!0),t(a).realAuthStatus==2?(u(),g("span",We,"审核通过")):_("",!0),t(a).realAuthStatus==3?(u(),g("span",Xe,"审核拒绝")):_("",!0)]),Ze,e("td",et,m(t(a).idNumber),1)]),e("tr",tt,[st,e("td",lt,m(t(a).regIp),1),at,e("td",ot,m(t(a).regAddress),1),it,e("td",nt,m(t(a).regTime),1)]),e("tr",rt,[dt,e("td",ut,m(t(a).realName),1),ct,pt,_t,gt]),e("tr",mt,[ht,e("td",vt,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idImage1],src:t(a).idImage1,fit:"scale-down"},null,8,["preview-src-list","src"]),ft]),bt,e("td",yt,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idImage2],src:t(a).idImage2,fit:"scale-down"},null,8,["preview-src-list","src"]),wt]),xt,e("td",kt,[l(w,{style:{width:"140px",height:"100px"},"preview-src-list":[t(a).idImage3],src:t(a).idImage3,fit:"scale-down"},null,8,["preview-src-list","src"]),St])])])]),_:1},8,["modelValue"]),l(P,{title:"开启融资审核",modelValue:t(V),"onUpdate:modelValue":s[12]||(s[12]=o=>T(V)?V.value=o:null),"append-to-body":""},{footer:i(()=>[e("div",Rt,[l(f,{type:"primary",onClick:s[10]||(s[10]=o=>$(2))},{default:i(()=>[v("通过")]),_:1}),l(f,{type:"danger",onClick:s[11]||(s[11]=o=>$(3))},{default:i(()=>[v("拒绝")]),_:1})])]),default:i(()=>[e("div",null,[e("div",It,[Ct,e("div",qt,m(t(a).id),1),Vt,e("div",Nt,[t(a).fundingStatus==0?(u(),g("span",Et,"未开启")):_("",!0),t(a).fundingStatus==1?(u(),g("span",Tt,"审核中")):_("",!0),t(a).fundingStatus==2?(u(),g("span",zt,"审核通过")):_("",!0),t(a).fundingStatus==3?(u(),g("span",Bt,"审核拒绝")):_("",!0)]),Dt,e("div",Ft,m((Number(t(a).tradingFrozenAmt)+Number(t(a).availableAmt)+Number(t(a).ipoAmt)).toFixed(2)),1)]),e("div",$t,[Ut,e("div",Pt,m(t(a).availableAmt),1),Ot,e("div",Ht,m(t(a).tradingFrozenAmt),1),jt,e("div",Lt,m(t(a).ipoAmt),1)])])]),_:1},8,["modelValue"])])}}}),es=me(Kt,[["__scopeId","data-v-ce3c4585"]]);export{es as default};
