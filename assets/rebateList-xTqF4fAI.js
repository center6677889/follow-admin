import{P as J,_ as H,B as W,a as X,d as Y,r as y,C as Z,I as ee,w as te,e as n,J as oe,c as le,o as L,f as e,h as l,K as x,k as a,l as g,n as u,i as ae,A as p,N as re,m as D,s as ne,t as se}from"./index-BXRoTRPN.js";import{u as ie}from"./useCopy-CSzW9GjL.js";function de(m){return J({url:"/agent/rebate/detailList",method:"post",data:m})}const C=m=>(ne("data-v-1002b9ef"),m=m(),se(),m),ue={class:"app-container"},pe=C(()=>D("br",null,null,-1)),me=C(()=>D("br",null,null,-1)),ce=W({name:"User"}),fe=Object.assign(ce,{props:["userId","startTime","endTime","open"],setup(m){const{copyText:N}=ie(),k=X(),{proxy:S}=Y(),V=y([]),v=y(!0),w=y(0),U=y([]),b=m,T=Z({form:{},queryParams:{pageNo:1,pageSize:10},tempInfo:{},bankform:{}}),{queryParams:r}=ee(T);function I(){v.value=!0,de(q(r.value,U.value)).then(i=>{v.value=!1,V.value=i.data.records,w.value=i.data.total})}function q(i,o){let s=i;return s.params=typeof s.params=="object"&&s.params!==null&&!Array.isArray(s.params)?s.params:{},o=Array.isArray(o)?o:[],s.startDate=o[0]&&o[0]+" 00:00:00",s.endDate=o[1]&&o[1]+" 23:59:59",s}function K(i){i.rebateType==0?k.push({path:"/follow/transaction",query:{tradingOrderSn:i.tradingOrderSn}}):k.push({path:"/pending/pendingList",query:{tradingOrderSn:i.tradingOrderSn}})}function c(){r.value.pageNo=1,I()}function B(){U.value=[],S.resetForm("queryRef"),c()}te(()=>[b.open],()=>{b.open&&A()});function A(){r.value.userId=b.userId,U.value=[b.startTime,b.endTime],I()}return A(),(i,o)=>{const s=n("el-input"),f=n("el-form-item"),_=n("el-option"),G=n("el-select"),h=n("el-button"),O=n("el-form"),d=n("el-table-column"),R=n("CopyDocument"),z=n("el-icon"),M=n("el-tooltip"),P=n("el-table"),j=n("pagination"),Q=n("el-col"),$=n("el-row"),E=oe("loading");return L(),le("div",ue,[e($,{gutter:20},{default:l(()=>[e(Q,{xs:24},{default:l(()=>[e(O,{model:a(r),ref:"queryRef",inline:!0},{default:l(()=>[e(f,{label:"记录ID",prop:"id"},{default:l(()=>[e(s,{modelValue:a(r).id,"onUpdate:modelValue":o[0]||(o[0]=t=>a(r).id=t),modelModifiers:{number:!0},type:"number",placeholder:"请输入记录ID",clearable:"",style:{width:"160px"},onKeyup:g(c,["enter"])},null,8,["modelValue"])]),_:1}),e(f,{label:"贡献会员id",prop:"fromUserId"},{default:l(()=>[e(s,{modelValue:a(r).fromUserId,"onUpdate:modelValue":o[1]||(o[1]=t=>a(r).fromUserId=t),modelModifiers:{number:!0},type:"number",placeholder:"请输入会员id",clearable:"",style:{width:"120px"},onKeyup:g(c,["enter"])},null,8,["modelValue"])]),_:1}),e(f,{label:"贡献会员等级",prop:"fromUserLevelVal"},{default:l(()=>[e(G,{modelValue:a(r).fromUserLevelVal,"onUpdate:modelValue":o[2]||(o[2]=t=>a(r).fromUserLevelVal=t),placeholder:"全部",style:{width:"130px"}},{default:l(()=>[e(_,{key:"0",label:"全部",value:""}),e(_,{key:"1",label:"L1-普通会员",value:1}),e(_,{key:"2",label:"L2-银牌",value:2}),e(_,{key:"3",label:"L3-金牌",value:3}),e(_,{key:"4",label:"L4-钻石",value:4}),e(_,{key:"5",label:"L5-皇冠",value:5})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"贡献会员直属代理ID",prop:"fromUserAgentId"},{default:l(()=>[e(s,{modelValue:a(r).fromUserAgentId,"onUpdate:modelValue":o[3]||(o[3]=t=>a(r).fromUserAgentId=t),modelModifiers:{number:!0},type:"number",placeholder:"请输入直属代理id",clearable:"",style:{width:"140px"},onKeyup:g(c,["enter"])},null,8,["modelValue"])]),_:1}),e(f,{label:"贡献会员总代理ID",prop:"fromUserGeneralAgentId"},{default:l(()=>[e(s,{modelValue:a(r).fromUserGeneralAgentId,"onUpdate:modelValue":o[4]||(o[4]=t=>a(r).fromUserGeneralAgentId=t),modelModifiers:{number:!0},type:"number",placeholder:"请输入团队总代会员id",clearable:"",style:{width:"160px"},onKeyup:g(c,["enter"])},null,8,["modelValue"])]),_:1}),e(f,null,{default:l(()=>[e(h,{type:"primary",icon:"Search",onClick:c},{default:l(()=>[u("搜索")]),_:1}),e(h,{icon:"Refresh",onClick:B},{default:l(()=>[u("重置")]),_:1})]),_:1})]),_:1},8,["model"]),x((L(),ae(P,{border:"",data:a(V)},{default:l(()=>[e(d,{label:"记录ID",align:"center",key:"id",prop:"id"}),e(d,{label:"贡献会员信息",align:"center",width:"130","show-overflow-tooltip":!0},{default:l(t=>[u(p(t.row.fromUserRealName?t.row.fromUserRealName:t.row.fromUserNickname)+" ",1),pe,u(" "+p(t.row.fromUserId),1),e(z,{style:{cursor:"pointer","margin-left":"4px"},onClick:F=>a(N)(t.row.fromUserId)},{default:l(()=>[e(R)]),_:2},1032,["onClick"]),me,u(" L"+p(t.row.fromUserLevelVal)+"-"+p(t.row.fromUserLevelName),1)]),_:1}),e(d,{label:"贡献会员直属代理(ID)",align:"center"},{default:l(t=>[u(p(t.row.fromUserAgentName)+"("+p(t.row.fromUserAgentId)+") ",1)]),_:1}),e(d,{label:"贡献会员总代理(ID)",align:"center"},{default:l(t=>[u(p(t.row.fromUserGeneralAgentName)+"("+p(t.row.fromUserGeneralAgentId)+") ",1)]),_:1}),e(d,{label:"业绩",align:"center",key:"performance",prop:"performance","show-overflow-tooltip":!0}),e(d,{label:"返佣金额",align:"center",key:"rebateAmount",prop:"rebateAmount","show-overflow-tooltip":!0}),e(d,{label:"返佣比例",align:"center",key:"rebateRatio",prop:"rebateRatio","show-overflow-tooltip":!0}),e(d,{label:"结算时间",align:"center"},{default:l(t=>[u(p(t.row.settlementDateTime.slice(0,10)),1)]),_:1}),e(d,{fixed:"right",label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},{default:l(t=>[e(M,{disabled:"true",content:"交易明细",placement:"top"},{default:l(()=>[e(h,{type:"primary",onClick:F=>K(t.row)},{default:l(()=>[u("交易明细")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[E,a(v)]]),x(e(j,{total:a(w),onPagination:I,page:a(r).pageNo,"onUpdate:page":o[5]||(o[5]=t=>a(r).pageNo=t),limit:a(r).pageSize,"onUpdate:limit":o[6]||(o[6]=t=>a(r).pageSize=t)},null,8,["total","page","limit"]),[[re,a(w)>0]])]),_:1})]),_:1})])}}}),ye=H(fe,[["__scopeId","data-v-1002b9ef"]]);export{ye as default};
