import{P as G,_ as X,B as Z,a as ee,d as te,r as _,C as oe,I as le,e as n,J as I,c as C,o as m,f as e,h as l,K as k,k as a,l as ae,D as ne,n as p,i as D,A as f,N as re,m as x,s as ie,t as se}from"./index-BXRoTRPN.js";import{u as ue}from"./useTableColumnWidth-CTSg-whZ.js";import{u as ce}from"./useCopy-CSzW9GjL.js";function pe(c){return G({url:"/dataReport/userFollowStatistics",method:"post",data:c})}const N=c=>(ie("data-v-c022c5f6"),c=c(),se(),c),de={class:"app-container"},me={key:0},_e=N(()=>x("br",null,null,-1)),fe=N(()=>x("br",null,null,-1)),ye={key:1},ve=Z({name:"User"}),we=Object.assign(ve,{setup(c){const{tableRef:P,handleHeaderDragend:R,applyStoredColumnWidths:T}=ue("data/userFollow-table"),{copyText:V}=ce(),F=ee(),{proxy:q}=te(),S=_([]),y=_(!0),v=_(0),d=_([]);function A(u){F.push({path:"/follow/record",query:{userId:u.id}})}const B=oe({form:{},queryParams:{pageNo:1,pageSize:10,id:void 0}}),{queryParams:i,form:ge}=le(B);function w(){y.value=!0,pe(L(i.value,d.value)).then(u=>{y.value=!1,S.value=u.data.records,v.value=u.data.total,T()})}function L(u,o){let s=u;return s.params=typeof s.params=="object"&&s.params!==null&&!Array.isArray(s.params)?s.params:{},o=Array.isArray(o)?o:[],s.startTime=o[0]&&o[0]+" 00:00:00",s.endTime=o[1]&&o[1]+" 23:59:59",s}function g(){i.value.pageNo=1,w()}function U(){d.value=[],q.resetForm("queryRef"),i.value.id=void 0,g()}return w(),(u,o)=>{const s=n("el-input"),b=n("el-form-item"),Y=n("el-date-picker"),h=n("el-button"),z=n("el-form"),H=n("CopyDocument"),K=n("el-icon"),r=n("el-table-column"),j=n("el-tooltip"),M=n("el-table"),Q=n("pagination"),W=n("el-col"),$=n("el-row"),E=I("hasPermi"),J=I("loading");return m(),C("div",de,[e($,{gutter:20},{default:l(()=>[e(W,{xs:24},{default:l(()=>[e(z,{model:a(i),ref:"queryRef",inline:!0},{default:l(()=>[e(b,{label:"会员ID",prop:"userId"},{default:l(()=>[e(s,{modelValue:a(i).userId,"onUpdate:modelValue":o[0]||(o[0]=t=>a(i).userId=t),placeholder:"请输入会员ID",clearable:"",style:{width:"150px"},onKeyup:ae(g,["enter"])},null,8,["modelValue"])]),_:1}),e(b,{label:"查询时间",style:{width:"308px"}},{default:l(()=>[e(Y,{modelValue:a(d),"onUpdate:modelValue":o[1]||(o[1]=t=>ne(d)?d.value=t:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(b,null,{default:l(()=>[e(h,{type:"primary",icon:"Search",onClick:g},{default:l(()=>[p("查询")]),_:1}),e(h,{icon:"Refresh",onClick:U},{default:l(()=>[p("重置")]),_:1})]),_:1})]),_:1},8,["model"]),k((m(),D(M,{border:"",data:a(S),onHeaderDragend:a(R),ref_key:"tableRef",ref:P},{default:l(()=>[e(r,{label:"用户信息",align:"center",width:"150","show-overflow-tooltip":!0},{default:l(t=>[t.row.id?(m(),C("span",me,[p(f(t.row.realName?t.row.realName:t.row.nickname),1),_e,p(" "+f(t.row.id),1),e(K,{style:{cursor:"pointer","margin-left":"4px"},onClick:O=>a(V)(t.row.id)},{default:l(()=>[e(H)]),_:2},1032,["onClick"]),fe,p(" L"+f(t.row.levelId)+"-"+f(t.row.levelName),1)])):(m(),C("span",ye,"-"))]),_:1}),e(r,{label:"当前跟投项目数",align:"center",key:"activeFollowCount",prop:"activeFollowCount","show-overflow-tooltip":!0}),e(r,{label:"当前投入跟投资金",align:"center",key:"activeInitialSum",prop:"activeInitialSum","show-overflow-tooltip":!0}),e(r,{label:"当前剩余跟投资金",align:"center",key:"activeCurrentSum",prop:"activeCurrentSum","show-overflow-tooltip":!0}),e(r,{label:"累计跟投导师数",align:"center",key:"activeTutorCount",prop:"activeTutorCount"}),e(r,{label:"累计跟投项目数",align:"center",key:"totalFollowCount",prop:"totalFollowCount"}),e(r,{label:"累计投入跟投资金",align:"center",key:"totalInitialSum",prop:"totalInitialSum"}),e(r,{label:"累计退还跟投资金",align:"center",key:"totalReturnSum",prop:"totalReturnSum"}),e(r,{label:"累计导师返佣",align:"center",key:"totalTutorCommission",prop:"totalTutorCommission"}),e(r,{label:"累计平台抽佣",align:"center",key:"totalPlatformCommission",prop:"totalPlatformCommission"}),e(r,{label:"系统盈亏",align:"center",key:"totalSysProfitLoss",prop:"totalSysProfitLoss"}),e(r,{fixed:"right",label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},{default:l(t=>[e(j,{disabled:"true",content:"用户跟投记录",placement:"top"},{default:l(()=>[k((m(),D(h,{type:"primary",onClick:O=>A(t.row)},{default:l(()=>[p("用户跟投记录")]),_:2},1032,["onClick"])),[[E,["followRecord"]]])]),_:2},1024)]),_:1})]),_:1},8,["data","onHeaderDragend"])),[[J,a(y)]]),k(e(Q,{total:a(v),onPagination:w,page:a(i).pageNo,"onUpdate:page":o[2]||(o[2]=t=>a(i).pageNo=t),limit:a(i).pageSize,"onUpdate:limit":o[3]||(o[3]=t=>a(i).pageSize=t)},null,8,["total","page","limit"]),[[re,a(v)>0]])]),_:1})]),_:1})])}}}),ke=X(we,[["__scopeId","data-v-c022c5f6"]]);export{ke as default};
