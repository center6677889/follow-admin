import{_ as wl,B as Vl,a as Cl,d as Sl,r as p,y as Il,I as xl,$ as Rl,C as Ie,G as Ul,H as Ll,w as Z,e as k,J as Ke,c as i,o as n,f as e,h as a,K as S,k as u,l as ie,n as m,N as pe,i as b,m as h,A as c,j as T,L as z,M as me,R as Dl,D as $l,s as Nl,t as El}from"./index-BXRoTRPN.js";import{u as Hl}from"./useCopy-CSzW9GjL.js";import{u as zl}from"./useTableColumnWidth-CTSg-whZ.js";import{l as Fl,r as Pl,c as Ml,g as Al,a as Yl,b as ql}from"./signal-BbaEzBPC.js";import{l as Bl}from"./trust-CT_Dofg5.js";import{l as Ol}from"./record-CzaFZNul.js";import{r as Kl}from"./index-y8YPi6dQ.js";import{l as jl}from"./list-DQG7AV__.js";const F=X=>(Nl("data-v-8eddbbc0"),X=X(),El(),X),Wl={class:"app-container"},Ql={key:0},Gl={key:1},Jl=F(()=>h("br",null,null,-1)),Zl={key:0,style:{color:"#63a103"}},Xl={key:1,style:{color:"#da0114"}},ea=F(()=>h("br",null,null,-1)),la={key:2},aa={key:3},ta=F(()=>h("br",null,null,-1)),oa={key:4},ua={key:5},na={key:6},sa={key:7},ra={key:0,style:{color:"#da0114"}},da={key:1,style:{color:"#63a103"}},ia={key:0},pa={key:1},ma={key:0},fa={key:0,style:{color:"#da0114"}},ca={key:0},va={key:1,style:{color:"#63a103"}},ya={key:0},ga={key:1},_a={key:0},ba={key:1},ka={key:1,style:{color:"#da0114"}},Ta=F(()=>h("span",{style:{color:"#63a103"}},"可跟上",-1)),ha=F(()=>h("span",{style:{color:"#da0114"}},"无法跟上",-1)),wa={class:"dialog-footer"},Va=["index"],Ca=F(()=>h("div",{class:"title"},[h("div",{class:"time"},"时间"),h("div",{class:"price"},"成交价")],-1)),Sa=["index"],Ia={class:"time"},xa={class:"price"},Ra={key:0,style:{color:"#63a103"}},Ua={key:1,style:{color:"#da0114"}},La=F(()=>h("div",{style:{color:"#da0114"}},"显示发布时间不在股票交易时间内，均跟不上",-1)),Da={key:0,style:{color:"#da0114"}},$a={key:1,style:{color:"#63a103"}},Na={key:0,style:{color:"#63a103"}},Ea={key:1,style:{color:"#da0114"}},Ha={class:"dialog-footer"},za=Vl({name:"User"}),Fa=Object.assign(za,{setup(X){const{copyText:xe}=Hl(),{tableRef:je,handleHeaderDragend:We,applyStoredColumnWidths:Qe}=zl("signal-table"),Ge=Cl(),{proxy:R}=Sl(),ee={0:"每日",1:"7日",2:"16日",3:"38日",4:"108日",5:"180日",6:"360日"},Re=p([]),Ue=p([]),P=p([]);p([]);const fe=p(),ce=p(30),le=p(1),ve=p(18e3),ye=p(0),ge=p(!0),Le=p(0),De=p(0),$e=p(1),K=Il(function(){let t=(1+Le.value+De.value)*Number(s.value.price1)*Number(s.value.sharesOfHand)/$e.value;return console.log("rate",s.value),t&&t.toFixed(2)}),_e=p(),Je=p(null);Rl(()=>{const o=Je.value;o&&o.addEventListener("wheel",t=>{t.preventDefault(),o.scrollLeft+=t.deltaY})});const j=p(!1),Ze=p(!1),M=p(!1),ae=p(!0),be=p(!1),N=p(!1),te=p(!1),A=p(!1),Ne=p(!0);p([]);const ke=p(0),Ee=p(0);p("");const oe=p([]),ue=p([]);Ie({open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Ul()},url:"/prod-api/system/user/importData"});function Xe(o){Ge.push({path:"/follow/trust",query:{signId:o.id}})}const C=p(),I=p(),$=p(""),ne=p(),se=p(0);Ie(Ll().listBank);const el=Ie({form:{},queryParams:{pageNo:1,pageSize:10},trustParams:{pageNo:1,pageSize:100},configForm:{price1:0},rules:{tutorId:[{required:!0,message:"请选择导师",trigger:"change"}],itemType:[{required:!0,message:"请选择项目",trigger:"change"}],signType:[{required:!0,message:"请选择信号类型",trigger:"change"}],displayReleaseTime:[{required:!0,message:"请选择发布时间",trigger:"blur"}]},itemTypeList:[],trustList:[],mentorList:[],recordList:[],list1:[],list2:[],configInfo:{}}),{configInfo:w,form:d,list1:E,list2:H,queryParams:_,trustParams:Y,rules:He,configForm:s,itemTypeList:Te,trustList:ze,mentorList:he,recordList:D}=xl(el);Z([C],function(o,t){Ae()}),Z(()=>d.value.tutorId,(o,t)=>{console.log("tutorId值改变了:",o,t),d.value.signType===0&&Pe()}),Z(()=>d.value.itemType,(o,t)=>{console.log("itemType值改变了:",o,t),d.value.signType===0&&Pe()}),Z(()=>d.value.displayReleaseTime,(o,t)=>{console.log("displayReleaseTime值改变了:",o,t),d.value.signType===0&&Fe()}),Z(()=>D.value,(o,t)=>{console.log("recordList值改变了:",o,t),d.value.signType===0&&Fe()});function Fe(){E.value=[],H.value=[];for(let o=0;o<D.value.length;o++)console.log(D.value[o]),new Date(d.value.displayReleaseTime)>new Date(D.value[o].followStartTime)?(D.value[o].status=1,E.value.push(D.value[o])):(D.value[o].status=0,H.value.push(D.value[o]))}function Pe(){d.value.tutorId&&(d.value.itemType||d.value.itemType===0)?(console.log("执行了"),ll()):(Me(),console.log("没有执行"))}function Me(){se.value=0,E.value=[],H.value=[]}function ll(){A.value=!0,Ol({tutorId:d.value.tutorId,itemType:d.value.itemType,findUnderwayOrPostpone:!0,pageNo:1,pageSize:1e4}).then(o=>{A.value=!1,D.value=o.data.records,se.value=o.data.total})}function al(){jl({pageNo:1,pageSize:99999}).then(o=>{he.value=o.data.records})}function tl(o){console.log("触发了",o);let t=0;for(let v=1;v<=ve.value/ce.value;v++){let r=o.slice(t,t+ce.value);if(r.length)P.value.push(r),t+=ce.value;else break}console.log("列表的值",P.value)}function Ae(){/^[a-zA-Z]{1,5}$/.test(C.value)?(I.value="us",$.value="$"):/^\d{5}$/.test(C.value)?(I.value="hk",$.value="HK$"):/^6\d{5}$/.test(C.value)?(I.value="sh",$.value="￥"):/^[03]\d{5}$/.test(C.value)?(I.value="sz",$.value="￥"):/^8\d{5}$/.test(C.value)?(I.value="bj",$.value="￥"):(I.value="",$.value="￥")}const ol=o=>{d.value.itemType=void 0,Te.value=he.value[o].configuration};function ul(){N.value=!0,qe(),Ve()}function we(){be.value=!0,Bl({signId:s.value.id,buySignId:s.value.buySignId,pageNo:Y.value.pageNo,pageSize:Y.value.pageSize}).then(o=>{be.value=!1,N.value=!1,ze.value=o.data.records,Ee.value=o.data.total})}function Ve(){if(te.value=!0,!C.value)return R.$modal.msgError("请输入股票代码"),N.value=!1,te.value=!1,!1;if(!I.value)return R.$modal.msgError("没有匹配到股票类型，请检查股票代码是否正确"),N.value=!1,te.value=!1,!1;Yl({stockCode:C.value,stockType:I.value,displayReleaseTime:s.value.displayReleaseTime,pageNo:le.value,pageSize:ve.value}).then(o=>{N.value=!1,te.value=!1;let t=o.data.dayTransactionData.stockDayTransactionDataPage;ne.value=o.data.marketStatus,ye.value=t.total,Ue.value.push(...t.records),tl(t.records),Le.value=o.data.buyingFeeRate,De.value=o.data.buyingStampDutyRate,$e.value=o.data.exchangeRate,s.value.stockName=o.data.stockName,s.value.stockType=o.data.stockType,s.value.stockCode=o.data.stockCode,s.value.sharesOfHand=o.data.sharesOfHand,s.value.price1=0})}function nl(){Kl().then(o=>{w.value=o.data||{}})}function W(){ae.value=!0,Fl(sl(_.value,oe.value,ue.value)).then(o=>{ae.value=!1,Re.value=o.data.records,ke.value=o.data.total,Qe()})}function sl(o,t,v){let r=o;return r.params=typeof r.params=="object"&&r.params!==null&&!Array.isArray(r.params)?r.params:{},t=Array.isArray(t)?t:[],v=Array.isArray(v)?v:[],r.displayTimeStart=t[0]&&t[0]+" 00:00:00",r.displayTimeEnd=t[1]&&t[1]+" 23:59:59",r.realTimeStart=v[0]&&v[0]+" 00:00:00",r.realTimeEnd=v[1]&&v[1]+" 23:59:59",r}function q(){_.value.pageNo=1,W()}function rl(){oe.value=[],ue.value=[],R.resetForm("queryRef"),q()}function dl(){R.resetForm("userRef")}function Ye(o,t={}){Me(),dl(),o=="发布买入信号"?(d.value.tutorId=void 0,Te.value=[],d.value.itemType=void 0,d.value.signType=0,al()):(d.value.tutorId=t.tutorId,d.value.tutorName=t.tutorName,d.value.itemType=t.itemType,d.value.signType=1,d.value.buySignId=t.id,il()),j.value=!0}function il(){pl()}function pl(){A.value=!0,ql({tutorId:d.value.tutorId,itemType:d.value.itemType,buySignId:d.value.buySignId}).then(o=>{A.value=!1,E.value=o.data.yestUserFollowUpRecord,H.value=o.data.notUserFollowUpRecordList,se.value=E.value.length+H.value.length})}function ml(o){s.value.id=o.id,s.value.tutorId=o.tutorId,s.value.tutorName=o.tutorName,s.value.itemType=o.itemType,s.value.signType=o.signType,s.value.buySignId=o.buySignId,s.value.displayReleaseTime=o.displayReleaseTime,s.value.realReleaseTime=o.realReleaseTime,s.value.tutorId=o.tutorId,s.value.tutorName=o.tutorName,s.value.realImeTransaction="[]",P.value=[],C.value=void 0,I.value=void 0,$.value=void 0,ne.value=2,qe(),o.signType==1?fl(o.buySignId):(we(),M.value=!0)}async function fl(o){let t=await Al({signId:o});if(ae.value=!1,fe.value=t.data,C.value=fe.value.stockCode,Ae(),N.value=!0,fe.value.isConfigured)Ve(),we(),M.value=!0;else return R.$modal.msgError("请先配置买入信号"),!1}function qe(){Ue.value=[],P.value=[],_e.value=[],s.value.price1=0,s.value.price2=void 0,s.value.stockCode=void 0,s.value.stockName=void 0,s.value.stockType=void 0,s.value.sharesOfHand=0,s.value.position=1,le.value=1,ye.value=0,ge.value=!0}function cl(){R.$refs.userRef.validate(o=>{if(o){let t=d.value.displayReleaseTime.slice(11,16).replace(/:/g,"");if(!vl(t))return R.$modal.msgError("显示发布时间必须要在开盘时间内"),!1;Pl(d.value).then(r=>{R.$modal.msgSuccess("新增成功"),j.value=!1,Ze.value=!1,W()})}})}function vl(o){let t=w.value.marketA_amTradingStart.replace(/:/g,""),v=w.value.marketA_amTradingEnd.replace(/:/g,"");if(o>=t&&o<=v)return!0;let r=w.value.marketA_pmTradingStart.replace(/:/g,""),y=w.value.marketA_pmTradingEnd.replace(/:/g,"");if(o>=r&&o<=y)return!0;let U=w.value.marketHk_amTradingStart.replace(/:/g,""),Q=w.value.marketHk_amTradingEnd.replace(/:/g,"");if(o>=U&&o<=Q)return!0;let V=w.value.marketHk_pmTradingStart.replace(/:/g,""),B=w.value.marketHk_pmTradingEnd.replace(/:/g,"");if(o>=V&&o<=B)return!0;let f=w.value.marketUs_amTradingStart.replace(/:/g,""),x=w.value.marketUs_amTradingEnd.replace(/:/g,"");if(o>=f&&o<=x)return!0;let re=w.value.marketUs_pmTradingStart.replace(/:/g,""),O=w.value.marketUs_pmTradingEnd.replace(/:/g,"");return o>=re&&o<=O}function yl(){if(console.log(s.value),!s.value.stockCode||!s.value.stockType)return R.$modal.msgError("请先查询股票信息"),!1;s.value.price2=K.value,Ml(s.value).then(o=>{R.$modal.msgSuccess("操作成功"),M.value=!1,W()})}function gl(o){let t=o.target;if(Math.ceil(t.scrollLeft+t.clientWidth)>=t.scrollWidth){if(console.log("滚动到了最右边"),Math.ceil(ye.value/ve.value)==le.value)return ge.value=!1,!1;ge.value&&(le.value++,Ve())}}return W(),nl(),(o,t)=>{const v=k("el-input"),r=k("el-form-item"),y=k("el-option"),U=k("el-select"),Q=k("el-date-picker"),V=k("el-button"),B=k("el-form"),f=k("el-col"),x=k("el-row"),re=k("CopyDocument"),O=k("el-icon"),g=k("el-table-column"),_l=k("el-tag"),bl=k("Top"),kl=k("Bottom"),Ce=k("el-tooltip"),de=k("el-table"),Be=k("pagination"),Oe=k("el-dialog"),Tl=k("el-empty"),Se=Ke("hasPermi"),G=Ke("loading");return n(),i("div",Wl,[e(x,{gutter:20},{default:a(()=>[e(f,{xs:24},{default:a(()=>[S(e(B,{model:u(_),ref:"queryRef",inline:!0},{default:a(()=>[e(r,{label:"信号查询",prop:"id"},{default:a(()=>[e(v,{modelValue:u(_).id,"onUpdate:modelValue":t[0]||(t[0]=l=>u(_).id=l),modelModifiers:{number:!0},type:"number",placeholder:"请输入信号id",clearable:"",style:{width:"150px"},onKeyup:ie(q,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"跟投ID",prop:"followRecordId"},{default:a(()=>[e(v,{modelValue:u(_).followRecordId,"onUpdate:modelValue":t[1]||(t[1]=l=>u(_).followRecordId=l),modelModifiers:{number:!0},type:"number",placeholder:"请输入信号id",clearable:"",style:{width:"150px"},onKeyup:ie(q,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"导师查询",prop:"tutor"},{default:a(()=>[e(v,{modelValue:u(_).tutor,"onUpdate:modelValue":t[2]||(t[2]=l=>u(_).tutor=l),style:{width:"180px"},placeholder:"请输入导师ID或导师名称",clearable:"",onKeyup:ie(q,["enter"])},null,8,["modelValue"])]),_:1}),e(r,{label:"跟投项目",prop:"itemType"},{default:a(()=>[e(U,{modelValue:u(_).itemType,"onUpdate:modelValue":t[3]||(t[3]=l=>u(_).itemType=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(y,{key:"0",label:"全部",value:""}),e(y,{key:"1",label:"1日跟投",value:0}),e(y,{key:"2",label:"7日跟投",value:1}),e(y,{key:"3",label:"16日跟投",value:2}),e(y,{key:"4",label:"38日跟投",value:3}),e(y,{key:"5",label:"108日跟投",value:4}),e(y,{key:"6",label:"180日跟投",value:5}),e(y,{key:"7",label:"360日跟投",value:6})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"公域/私域",prop:"domainType"},{default:a(()=>[e(U,{modelValue:u(_).domainType,"onUpdate:modelValue":t[4]||(t[4]=l=>u(_).domainType=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(y,{key:"0",label:"全部",value:""}),e(y,{key:"1",label:"公域",value:0}),e(y,{key:"2",label:"私域",value:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"信号类型",prop:"signType"},{default:a(()=>[e(U,{modelValue:u(_).signType,"onUpdate:modelValue":t[5]||(t[5]=l=>u(_).signType=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(y,{key:"0",label:"全部",value:""}),e(y,{key:"1",label:"买入",value:0}),e(y,{key:"2",label:"卖出",value:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"配置状态",prop:"isConfigured"},{default:a(()=>[e(U,{modelValue:u(_).isConfigured,"onUpdate:modelValue":t[6]||(t[6]=l=>u(_).isConfigured=l),style:{width:"150px"},placeholder:"全部"},{default:a(()=>[e(y,{key:"0",label:"全部",value:""}),e(y,{key:"1",label:"已配置",value:1}),e(y,{key:"2",label:"未配置",value:0})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"显示发布时间",style:{width:"308px"}},{default:a(()=>[e(Q,{modelValue:oe.value,"onUpdate:modelValue":t[7]||(t[7]=l=>oe.value=l),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(r,{label:"实际发布时间",style:{width:"308px"}},{default:a(()=>[e(Q,{modelValue:ue.value,"onUpdate:modelValue":t[8]||(t[8]=l=>ue.value=l),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),e(r,{label:"发布人",prop:"publisher"},{default:a(()=>[e(v,{modelValue:u(_).publisher,"onUpdate:modelValue":t[9]||(t[9]=l=>u(_).publisher=l),placeholder:"请输入发布人管理员账号",style:{width:"180px"},clearable:"",onKeyup:ie(q,["enter"])},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(V,{type:"primary",icon:"Search",onClick:q},{default:a(()=>[m("查询")]),_:1}),e(V,{icon:"Refresh",onClick:rl},{default:a(()=>[m("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[pe,Ne.value]]),S((n(),b(x,{gutter:10,class:"mb8"},{default:a(()=>[e(f,{span:1.5},{default:a(()=>[e(V,{type:"primary",plain:"",icon:"Plus",onClick:t[10]||(t[10]=l=>Ye("发布买入信号"))},{default:a(()=>[m("发布买入信号")]),_:1})]),_:1})]),_:1})),[[Se,["sendSignal"]]]),S((n(),b(de,{border:"",data:Re.value,onHeaderDragend:u(We),ref_key:"tableRef",ref:je},{default:a(()=>[e(g,{label:"信号ID",width:"100",align:"center",key:"id",prop:"id","show-overflow-tooltip":!0},{default:a(l=>[h("span",null,c(l.row.id),1),e(O,{style:{cursor:"pointer","margin-left":"4px"},onClick:L=>u(xe)(l.row.id)},{default:a(()=>[e(re)]),_:2},1032,["onClick"])]),_:1}),e(g,{label:"关联买入信号ID",width:"100",align:"center"},{default:a(l=>[l.row.buySignId?(n(),i("span",Ql,[m(c(l.row.buySignId)+" ",1),e(O,{style:{cursor:"pointer","margin-left":"4px"},onClick:L=>u(xe)(l.row.buySignId)},{default:a(()=>[e(re)]),_:2},1032,["onClick"])])):(n(),i("span",Gl,"-"))]),_:1}),e(g,{label:"导师信息",align:"center",width:"150"},{default:a(l=>[m(c(l.row.tutorName)+"（"+c(l.row.tutorId)+"） ",1),Jl,e(_l,{type:"success"},{default:a(()=>[m(c(ee[l.row.itemType]),1)]),_:2},1024)]),_:1}),e(g,{label:"信号信息",align:"center",width:"130"},{default:a(l=>[m(" 类型："),l.row.signType==0?(n(),i("span",Zl,"买入")):T("",!0),l.row.signType==1?(n(),i("span",Xl,"卖出")):T("",!0),ea,m(" 指导价："),l.row.price1?(n(),i("span",la,c(l.row.price1),1)):(n(),i("span",aa,"-")),ta,m(" 仓位："),l.row.position==.25?(n(),i("span",oa,"1/4仓")):l.row.position==.5?(n(),i("span",ua,"1/2仓")):l.row.position==1?(n(),i("span",na,"全仓")):(n(),i("span",sa,"-"))]),_:1}),e(g,{label:"信号配置",align:"center",width:"80"},{default:a(l=>[l.row.isConfigured==0?(n(),i("span",ra,"未配置")):T("",!0),l.row.isConfigured==1?(n(),i("span",da,"已配置")):T("",!0)]),_:1}),e(g,{label:"关联买入指导价",align:"center"},{default:a(l=>[l.row.buyPrice1?(n(),i("span",ia,c(l.row.buyPrice1),1)):(n(),i("span",pa,"-"))]),_:1}),e(g,{label:"收益率",align:"center",width:"90"},{default:a(l=>[l.row.yieldRate&&l.row.yieldRate!=0?(n(),i("div",ma,[l.row.yieldRate>=0?(n(),i("div",fa,[e(O,null,{default:a(()=>[e(bl)]),_:1}),l.row.stockCode?(n(),i("span",ca,c((l.row.yieldRate*100).toFixed(2))+"%",1)):T("",!0)])):(n(),i("div",va,[e(O,null,{default:a(()=>[e(kl)]),_:1}),l.row.stockCode?(n(),i("span",ya,c((l.row.yieldRate*100).toFixed(2))+"%",1)):T("",!0)]))])):(n(),i("div",ga," - "))]),_:1}),e(g,{label:"跟投股票",align:"center",width:"100"},{default:a(l=>[l.row.stockCode?(n(),i("span",_a,c(l.row.stockName)+"("+c(l.row.stockCode)+")",1)):(n(),i("span",ba,"-"))]),_:1}),e(g,{label:"跟投人数",align:"center",width:"90",key:"followers",prop:"followers","show-overflow-tooltip":!0}),e(g,{label:"显示发布时间",align:"center",width:"160",key:"displayReleaseTime",prop:"displayReleaseTime","show-overflow-tooltip":!0}),e(g,{label:"实际发布时间",align:"center",width:"160",key:"realReleaseTime",prop:"realReleaseTime","show-overflow-tooltip":!0}),e(g,{label:"发布人",align:"center",key:"publisher",prop:"publisher","show-overflow-tooltip":!0}),e(g,{fixed:"right",label:"操作",align:"center",width:"370","class-name":"small-padding fixed-width"},{default:a(l=>[e(Ce,{disabled:"true",content:"跟投用户详情",placement:"top"},{default:a(()=>[e(V,{type:"",onClick:L=>Xe(l.row)},{default:a(()=>[m("跟投用户详情")]),_:2},1032,["onClick"])]),_:2},1024),l.row.isConfigured==0?(n(),b(Ce,{key:0,disabled:"true",content:"信号配置",placement:"top"},{default:a(()=>[S((n(),b(V,{type:"primary",onClick:L=>ml(l.row)},{default:a(()=>[m("信号配置")]),_:2},1032,["onClick"])),[[Se,["signalConfig"]]])]),_:2},1024)):T("",!0),l.row.signType==0?(n(),b(Ce,{key:1,disabled:"true",content:"发布卖出信号",placement:"top"},{default:a(()=>[S((n(),b(V,{type:"info",onClick:L=>Ye("发布卖出信号",l.row)},{default:a(()=>[m("发布卖出信号")]),_:2},1032,["onClick"])),[[Se,["sendSignal"]]])]),_:2},1024)):T("",!0)]),_:1})]),_:1},8,["data","onHeaderDragend"])),[[G,ae.value]]),S(e(Be,{total:ke.value,onPagination:W,page:u(_).pageNo,"onUpdate:page":t[11]||(t[11]=l=>u(_).pageNo=l),limit:u(_).pageSize,"onUpdate:limit":t[12]||(t[12]=l=>u(_).pageSize=l)},null,8,["total","page","limit"]),[[pe,ke.value>0]])]),_:1})]),_:1}),e(Oe,{title:"发布信号",modelValue:j.value,"onUpdate:modelValue":t[18]||(t[18]=l=>j.value=l),width:"1240px","append-to-body":""},{footer:a(()=>[h("div",wa,[e(V,{type:"primary",onClick:cl},{default:a(()=>[m("确 定")]),_:1}),e(V,{onClick:t[17]||(t[17]=l=>j.value=!1)},{default:a(()=>[m("取 消")]),_:1})])]),default:a(()=>[e(B,{model:u(d),rules:u(He),ref:"userRef","label-width":"110px"},{default:a(()=>[e(x,{gutter:20},{default:a(()=>[e(f,{span:6},{default:a(()=>[e(r,{label:"选择导师",prop:"tutorId"},{default:a(()=>[u(d).signType==0?(n(),b(U,{key:0,modelValue:u(d).tutorId,"onUpdate:modelValue":t[13]||(t[13]=l=>u(d).tutorId=l),placeholder:"请选择"},{default:a(()=>[(n(!0),i(z,null,me(u(he),(l,L)=>(n(),b(y,{key:l.id,label:l.tutorName,value:l.id,onClick:J=>ol(L)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])):(n(),i(z,{key:1},[m(c(u(d).tutorName),1)],64))]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(r,{label:"选择项目",prop:"itemType"},{default:a(()=>[u(d).signType==0?(n(),b(U,{key:0,modelValue:u(d).itemType,"onUpdate:modelValue":t[14]||(t[14]=l=>u(d).itemType=l),placeholder:"请选择"},{default:a(()=>[(n(!0),i(z,null,me(u(Te),(l,L)=>(n(),i(z,{key:L},[l.isEnabled?(n(),b(y,{key:0,label:ee[l.itemType],value:l.itemType},null,8,["label","value"])):T("",!0)],64))),128))]),_:1},8,["modelValue"])):(n(),i(z,{key:1},[m(c(ee[u(d).itemType]),1)],64))]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(r,{label:"信号类型",prop:"signType"},{default:a(()=>[u(d).signType==0?(n(),b(U,{key:0,modelValue:u(d).signType,"onUpdate:modelValue":t[15]||(t[15]=l=>u(d).signType=l),disabled:"false"},{default:a(()=>[e(y,{key:"1",label:"买入",value:0}),e(y,{key:"2",label:"卖出",value:1})]),_:1},8,["modelValue"])):(n(),i("span",ka,"卖出"))]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(r,{label:"显示发布时间",prop:"displayReleaseTime"},{default:a(()=>[e(Q,{modelValue:u(d).displayReleaseTime,"onUpdate:modelValue":t[16]||(t[16]=l=>u(d).displayReleaseTime=l),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),e(x,null,{default:a(()=>[e(f,{span:6},{default:a(()=>[e(r,{label:"总跟投人数：",prop:"stockCode"},{default:a(()=>[m(c(se.value),1)]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(r,{label:"可跟随人数：",prop:"stockCode"},{default:a(()=>[m(c(u(E).length),1)]),_:1})]),_:1}),e(f,{span:6},{default:a(()=>[e(r,{label:"不可跟随人数：",prop:"stockCode"},{default:a(()=>[m(c(u(H).length),1)]),_:1})]),_:1})]),_:1}),e(x,null,{default:a(()=>[e(f,{span:11,style:{"margin-right":"40px"}},{default:a(()=>[S((n(),b(de,{data:u(E),height:"580",border:"",style:{width:"100%"}},{default:a(()=>[e(g,{prop:"userId",label:"用户ID",align:"center"}),e(g,{prop:"followStartTime",label:"开始跟投时间",align:"center"}),e(g,{prop:"followEndTime",label:"预计结束跟投时间",align:"center"},{default:a(l=>[m(c(l.row.followEndTime&&l.row.followEndTime.slice(0,10)),1)]),_:1}),e(g,{prop:"address",label:"跟随状态",align:"center"},{default:a(l=>[Ta]),_:1})]),_:1},8,["data"])),[[G,A.value]])]),_:1}),e(f,{span:11},{default:a(()=>[S((n(),b(de,{data:u(H),height:"580",border:"",style:{width:"100%"}},{default:a(()=>[e(g,{prop:"userId",label:"用户ID",align:"center"}),e(g,{prop:"followStartTime",label:"开始跟投时间",align:"center"}),e(g,{prop:"followEndTime",label:"预计结束跟投时间",align:"center"},{default:a(l=>[m(c(l.row.followEndTime&&l.row.followEndTime.slice(0,10)),1)]),_:1}),e(g,{prop:"address",label:"跟随状态",align:"center"},{default:a(l=>[ha]),_:1})]),_:1},8,["data"])),[[G,A.value]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Oe,{title:"信号配置",modelValue:M.value,"onUpdate:modelValue":t[32]||(t[32]=l=>M.value=l),width:"1640px","append-to-body":"","close-on-click-modal":"false"},{footer:a(()=>[h("div",Ha,[e(V,{type:"primary",onClick:yl},{default:a(()=>[m("确 定")]),_:1}),e(V,{onClick:t[31]||(t[31]=l=>M.value=!1)},{default:a(()=>[m("取 消")]),_:1})])]),default:a(()=>[e(x,{gutter:20},{default:a(()=>[e(f,{span:12},{default:a(()=>[S(e(B,{ref:"queryRef",inline:!0},{default:a(()=>[e(r,{label:"股票代码",prop:"stockCode"},{default:a(()=>[e(v,{modelValue:C.value,"onUpdate:modelValue":t[19]||(t[19]=l=>C.value=l),placeholder:"请输入股票代码",clearable:"",style:{width:"150px"},disabled:u(s).signType==1},null,8,["modelValue","disabled"])]),_:1}),e(r,{label:"股票类型",prop:"stockType"},{default:a(()=>[e(v,{modelValue:I.value,"onUpdate:modelValue":t[20]||(t[20]=l=>I.value=l),style:{width:"180px"},placeholder:"",clearable:"",disabled:""},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(V,{type:"primary",icon:"Search",onClick:ul},{default:a(()=>[m("查询")]),_:1})]),_:1})]),_:1},512),[[pe,Ne.value]]),h("div",{class:"warp",onScroll:t[21]||(t[21]=l=>gl(l))},[S(e(Tl,{description:"暂无数据~",style:{width:"100%"}},null,512),[[pe,!P.value.length]]),(n(!0),i(z,null,me(P.value,(l,L)=>(n(),i("div",{class:"box",index:L},[Ca,(n(!0),i(z,null,me(l,(J,hl)=>(n(),i("div",{class:Dl(["item",{active:J.sub==_e.value[0]||J.sub==_e.value[1]}]),index:hl},[h("div",Ia,c(J.tradeTime),1),h("div",xa,c(J.price),1)],10,Sa))),256))],8,Va))),256))],32)]),_:1}),e(f,{span:12},{default:a(()=>[S((n(),b(B,{model:u(d),rules:u(He),ref:"configRef","label-width":"110px"},{default:a(()=>[e(x,null,{default:a(()=>[e(f,{span:8},{default:a(()=>[e(r,{label:"导师：",prop:"stockCode"},{default:a(()=>[m(c(u(s).tutorName)+"("+c(u(s).tutorId)+") ",1)]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"项目：",prop:"stockCode"},{default:a(()=>[m(c(ee[u(s).itemType]),1)]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"信号类型：",prop:"stockCode"},{default:a(()=>[u(s).signType==0?(n(),i("span",Ra,"买入")):T("",!0),u(s).signType==1?(n(),i("span",Ua,"卖出")):T("",!0)]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"显示发布时间：",prop:"stockCode"},{default:a(()=>[m(c(u(s).displayReleaseTime),1)]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"实际发布时间：",prop:"stockCode"},{default:a(()=>[m(c(u(s).realReleaseTime),1)]),_:1})]),_:1})]),_:1}),e(x,null,{default:a(()=>[e(f,{span:8},{default:a(()=>[e(r,{label:"股票代码",prop:"stockCode"},{default:a(()=>[e(v,{modelValue:u(s).stockCode,"onUpdate:modelValue":t[22]||(t[22]=l=>u(s).stockCode=l),style:{width:"180px"},placeholder:"",clearable:"",disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"股票名称",prop:"stockName"},{default:a(()=>[e(v,{modelValue:u(s).stockName,"onUpdate:modelValue":t[23]||(t[23]=l=>u(s).stockName=l),style:{width:"180px"},placeholder:"",clearable:"",disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),e(f,{span:8},{default:a(()=>[e(r,{label:"股票类型",prop:"stockType"},{default:a(()=>[e(v,{modelValue:u(s).stockType,"onUpdate:modelValue":t[24]||(t[24]=l=>u(s).stockType=l),style:{width:"180px"},placeholder:"",clearable:"",disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),u(s).signType==0?(n(),b(f,{key:0,span:8},{default:a(()=>[e(r,{label:"每手股数",prop:"sharesOfHand"},{default:a(()=>[e(v,{modelValue:u(s).sharesOfHand,"onUpdate:modelValue":t[25]||(t[25]=l=>u(s).sharesOfHand=l),style:{width:"180px"},placeholder:"",clearable:"",disabled:""},null,8,["modelValue"])]),_:1})]),_:1})):T("",!0),e(f,{span:8},{default:a(()=>[e(r,{label:"指导价格"},{default:a(()=>[e(v,{type:"number",modelValue:u(s).price1,"onUpdate:modelValue":t[26]||(t[26]=l=>u(s).price1=l),style:{width:"180px"},placeholder:"请输入指导价",clearable:""},{append:a(()=>[m(c($.value),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(s).signType==0?(n(),b(f,{key:1,span:8},{default:a(()=>[e(r,{label:"1手价格"},{default:a(()=>[e(v,{modelValue:u(K),"onUpdate:modelValue":t[27]||(t[27]=l=>$l(K)?K.value=l:null),modelModifiers:{number:!0},style:{width:"180px"},placeholder:"请输入指导价",disabled:""},{append:a(()=>[m("￥")]),_:1},8,["modelValue"])]),_:1})]),_:1})):T("",!0),e(f,{span:8},{default:a(()=>[e(r,{label:"仓位",prop:"position"},{default:a(()=>[e(U,{modelValue:u(s).position,"onUpdate:modelValue":t[28]||(t[28]=l=>u(s).position=l),style:{width:"180px"},placeholder:"请选择"},{default:a(()=>[e(y,{key:"1",label:"全仓",value:1}),e(y,{key:"2",label:"1/2仓",value:.5}),e(y,{key:"3",label:"1/4仓",value:.25})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),ne.value!=2?(n(),b(x,{key:0},{default:a(()=>[La]),_:1})):T("",!0)]),_:1},8,["model","rules"])),[[G,N.value]]),S((n(),b(de,{data:u(ze),height:"480",border:"",style:{width:"100%"}},{default:a(()=>[e(g,{prop:"userId",label:"用户ID",align:"center"}),u(s).signType==0?(n(),b(g,{key:0,prop:"currentFollowSum",label:"当前跟投资金￥",align:"center"})):T("",!0),u(s).signType==0?(n(),b(g,{key:1,prop:"address",label:"跟随状态",align:"center"},{default:a(l=>[l.row.currentFollowSum<u(K)?(n(),i("span",Da,"无法跟上")):(n(),i("span",$a,"可跟上"))]),_:1})):T("",!0),u(s).signType==1?(n(),b(g,{key:2,prop:"realTimeHoldShares",label:"当前持仓股数",align:"center"},{default:a(l=>[m(c(l.row.realTimeHoldShares?l.row.realTimeHoldShares:0),1)]),_:1})):T("",!0),u(s).signType==1?(n(),b(g,{key:3,prop:"address",label:"跟随状态",align:"center"},{default:a(l=>[l.row.realTimeHoldShares>0&&ne.value==2?(n(),i("span",Na,"可跟上")):(n(),i("span",Ea,"无法跟上"))]),_:1})):T("",!0)]),_:1},8,["data"])),[[G,be.value]]),e(Be,{total:Ee.value,onPagination:we,page:u(Y).pageNo,"onUpdate:page":t[29]||(t[29]=l=>u(Y).pageNo=l),limit:u(Y).pageSize,"onUpdate:limit":t[30]||(t[30]=l=>u(Y).pageSize=l)},null,8,["total","page","limit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),ja=wl(Fa,[["__scopeId","data-v-8eddbbc0"]]);export{ja as default};
