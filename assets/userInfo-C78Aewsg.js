import{d as y,r as p,w as N,e as m,i as f,h as o,f as a,j as k,m as C,k as P,S as U,o as c,n as v,a1 as $}from"./index-BXRoTRPN.js";const I={__name:"userInfo",props:{user:{type:Object}},setup(g){const _=g,{proxy:d}=y(),e=p({}),V=p({realName:[{required:!0,message:"用户名称不能为空",trigger:"blur"}]}),s=p(!1);function b(){d.$refs.userRef.validate(n=>{n&&$(e.value).then(l=>{d.$modal.msgSuccess("修改成功"),e.value.loginPwd=void 0,e.value.code=void 0})})}function x(){d.$tab.closePage()}return N(()=>_.user,n=>{n&&(e.value={realName:n.realName,username:n.username})},{immediate:!0}),(n,l)=>{const r=m("el-input"),u=m("el-form-item"),i=m("el-button"),w=m("el-form");return c(),f(w,{ref:"userRef",model:e.value,rules:V.value,"label-width":"90px"},{default:o(()=>[a(u,{label:"名称",prop:"realName"},{default:o(()=>[a(r,{modelValue:e.value.realName,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.realName=t),maxlength:"30"},null,8,["modelValue"])]),_:1}),a(u,{label:"账号",prop:"username"},{default:o(()=>[a(r,{modelValue:e.value.username,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.username=t),disabled:"",maxlength:"11"},null,8,["modelValue"])]),_:1}),a(u,{label:"密码",prop:"loginPwd"},{default:o(()=>[a(r,{type:s.value?"text":"password",modelValue:e.value.loginPwd,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.loginPwd=t),maxlength:"50"},{suffix:o(()=>[C("span",{onClick:l[2]||(l[2]=t=>s.value=!s.value),style:{cursor:"pointer"}},[a(P(U),{"icon-class":s.value?"eye-open":"eye"},null,8,["icon-class"])])]),_:1},8,["type","modelValue"])]),_:1}),e.value.username!="admin"?(c(),f(u,{key:0,label:"谷歌验证码",prop:"code"},{default:o(()=>[a(r,{modelValue:e.value.code,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.code=t),maxlength:"50"},null,8,["modelValue"])]),_:1})):k("",!0),a(u,null,{default:o(()=>[a(i,{type:"primary",onClick:b},{default:o(()=>[v("保存")]),_:1}),a(i,{type:"danger",onClick:x},{default:o(()=>[v("关闭")]),_:1})]),_:1})]),_:1},8,["model","rules"])}}};export{I as default};
